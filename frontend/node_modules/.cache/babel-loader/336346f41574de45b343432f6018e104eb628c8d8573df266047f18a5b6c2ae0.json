{"ast":null,"code":"import _objectSpread from\"C:/Users/Jonathan/Desktop/Proyecto Hostal/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{Link}from'react-router-dom';import Calendar from'react-calendar';import'react-calendar/dist/Calendar.css';import roomsData from'../data/roomsData';import'../styles/Home.css';import Footer from'../components/Footer';import backgroundImage from'../images/background2.jpg';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const today=new Date();const exchangeRate=900;const[checkIn,setCheckIn]=useState(today);const[availability,setAvailability]=useState({});const[loading,setLoading]=useState(false);const[calendarOpen,setCalendarOpen]=useState(false);const calendarRef=useRef(null);const[selectedOptions,setSelectedOptions]=useState(roomsData.reduce((acc,room)=>_objectSpread(_objectSpread({},acc),{},{[room.id]:1}),{}));// --- NUEVO: Estado para controlar qué grupos de habitaciones están expandidos ---\nconst[expandedGroups,setExpandedGroups]=useState({});const groupedRooms=roomsData.reduce((acc,room)=>{const type=room.type;if(!acc[type]){acc[type]=[];}acc[type].push(room);return acc;},{});useEffect(()=>{const handleClickOutside=event=>{if(calendarRef.current&&!calendarRef.current.contains(event.target)){setCalendarOpen(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);useEffect(()=>{const calculateAvailability=async()=>{setLoading(true);const updatedAvailability={};const selectedDate=new Date(checkIn.getTime()-checkIn.getTimezoneOffset()*60000).toISOString().split(\"T\")[0];try{const response=await fetch(\"https://three-2cs3.onrender.com/api/reservations\");const allReservations=await response.json();for(const room of roomsData){let isRoomAvailable=true;for(const res of allReservations){if(res.roomId===room.id){const resCheckIn=res.checkIn.split('T')[0];const resCheckOut=res.checkOut.split('T')[0];if(selectedDate>=resCheckIn&&selectedDate<resCheckOut){isRoomAvailable=false;break;}}}updatedAvailability[room.id]=isRoomAvailable;}setAvailability(updatedAvailability);}catch(error){console.error(\"Error al verificar disponibilidad:\",error);}finally{setLoading(false);}};calculateAvailability();},[checkIn]);const handleSelectChange=(id,value)=>{setSelectedOptions(prev=>_objectSpread(_objectSpread({},prev),{},{[id]:value}));};const convertToUSD=amountInCLP=>{return(amountInCLP/exchangeRate).toFixed(2);};// --- NUEVO: Función para expandir y colapsar los grupos ---\nconst toggleGroup=type=>{setExpandedGroups(prevExpanded=>_objectSpread(_objectSpread({},prevExpanded),{},{[type]:!prevExpanded[type]}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"home-container\",children:[/*#__PURE__*/_jsxs(\"video\",{autoPlay:true,loop:true,muted:true,playsInline:true,className:\"video-background\",children:[/*#__PURE__*/_jsx(\"source\",{src:\"/videos/background.mp4\",type:\"video/mp4\"}),\"Your browser does not support the video tag.\"]}),/*#__PURE__*/_jsx(\"h1\",{className:\"home-title\",children:\"Bienvenido al Hostal Jallalla\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"calendar-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"calendar-message\",children:\"Seleccione una fecha para ver disponibilidad\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCalendarOpen(!calendarOpen),className:\"calendar-toggle-btn\",children:checkIn.toLocaleDateString(\"es-ES\",{day:\"2-digit\",month:\"2-digit\",year:\"numeric\"})}),calendarOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"calendar-dropdown\",ref:calendarRef,children:/*#__PURE__*/_jsx(Calendar,{onChange:date=>{setCheckIn(date);setCalendarOpen(false);},value:checkIn,minDate:today})})]}),loading?/*#__PURE__*/_jsx(\"p\",{className:\"loading-message\",children:\"Cargando disponibilidad...\"}):/*#__PURE__*/_jsx(\"div\",{className:\"room-list\",children:Object.keys(groupedRooms).map(type=>{const roomsInGroup=groupedRooms[type];const isExpanded=!!expandedGroups[type];// Lógica para decidir qué habitaciones mostrar\nconst visibleRooms=isExpanded?roomsInGroup:roomsInGroup.slice(0,1);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"room-group-title\",children:type}),/*#__PURE__*/_jsx(\"div\",{className:\"room-group\",children:visibleRooms.map(room=>/*#__PURE__*/_jsxs(\"div\",{className:\"room-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:room.image,alt:room.type,className:\"room-image\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"room-id\",children:[\"ID: \",/*#__PURE__*/_jsx(\"strong\",{children:room.id})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Precio por noche: \",/*#__PURE__*/_jsx(\"strong\",{children:selectedOptions[room.id]===2&&room.priceForTwo?\"\".concat(room.priceForTwo,\" CLP ($\").concat(convertToUSD(room.priceForTwo),\" USD)\"):\"\".concat(room.priceForOne,\" CLP ($\").concat(convertToUSD(room.priceForOne),\" USD)\")})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Personas:\",/*#__PURE__*/_jsxs(\"select\",{value:selectedOptions[room.id]||1,onChange:e=>handleSelectChange(room.id,parseInt(e.target.value)),children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"1 Persona\"}),room.priceForTwo&&/*#__PURE__*/_jsx(\"option\",{value:2,children:\"2 Personas\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"room-availability\",children:/*#__PURE__*/_jsx(\"span\",{className:availability[room.id]?\"available\":\"not-available\",children:availability[room.id]?\"Disponible\":\"No disponible\"})}),/*#__PURE__*/_jsx(Link,{to:\"/room/\".concat(room.id),className:\"details-btn \".concat(availability[room.id]?\"\":\"disabled\"),style:{pointerEvents:availability[room.id]?\"auto\":\"none\",backgroundColor:availability[room.id]?\"#007bff\":\"#ccc\",cursor:availability[room.id]?\"pointer\":\"not-allowed\"},children:availability[room.id]?\"Ver Detalles\":\"No disponible\"})]},room.id))}),roomsInGroup.length>1&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleGroup(type),className:\"show-more-btn\",children:[isExpanded?\"Ver menos\":\"Ver \".concat(roomsInGroup.length-1,\" m\\xE1s...\"),/*#__PURE__*/_jsx(\"span\",{className:\"arrow \".concat(isExpanded?'up':'down')})]})]},type);})})]});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","useRef","Link","Calendar","roomsData","Footer","backgroundImage","jsx","_jsx","jsxs","_jsxs","Home","today","Date","exchangeRate","checkIn","setCheckIn","availability","setAvailability","loading","setLoading","calendarOpen","setCalendarOpen","calendarRef","selectedOptions","setSelectedOptions","reduce","acc","room","_objectSpread","id","expandedGroups","setExpandedGroups","groupedRooms","type","push","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","calculateAvailability","updatedAvailability","selectedDate","getTime","getTimezoneOffset","toISOString","split","response","fetch","allReservations","json","isRoomAvailable","res","roomId","resCheckIn","resCheckOut","checkOut","error","console","handleSelectChange","value","prev","convertToUSD","amountInCLP","toFixed","toggleGroup","prevExpanded","className","children","autoPlay","loop","muted","playsInline","src","onClick","toLocaleDateString","day","month","year","ref","onChange","date","minDate","Object","keys","map","roomsInGroup","isExpanded","visibleRooms","slice","Fragment","image","alt","priceForTwo","concat","priceForOne","e","parseInt","to","style","pointerEvents","backgroundColor","cursor","length"],"sources":["C:/Users/Jonathan/Desktop/Proyecto Hostal/frontend/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Calendar from 'react-calendar';\r\nimport 'react-calendar/dist/Calendar.css';\r\nimport roomsData from '../data/roomsData';\r\nimport '../styles/Home.css';\r\nimport Footer from '../components/Footer';\r\nimport backgroundImage from '../images/background2.jpg';\r\n\r\nconst Home = () => {\r\n    const today = new Date();\r\n    const exchangeRate = 900;\r\n\r\n    const [checkIn, setCheckIn] = useState(today);\r\n    const [availability, setAvailability] = useState({});\r\n    const [loading, setLoading] = useState(false);\r\n    const [calendarOpen, setCalendarOpen] = useState(false);\r\n    const calendarRef = useRef(null);\r\n    const [selectedOptions, setSelectedOptions] = useState(\r\n        roomsData.reduce((acc, room) => ({ ...acc, [room.id]: 1 }), {})\r\n    );\r\n\r\n    // --- NUEVO: Estado para controlar qué grupos de habitaciones están expandidos ---\r\n    const [expandedGroups, setExpandedGroups] = useState({});\r\n\r\n    const groupedRooms = roomsData.reduce((acc, room) => {\r\n        const type = room.type;\r\n        if (!acc[type]) { acc[type] = []; }\r\n        acc[type].push(room);\r\n        return acc;\r\n    }, {});\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            if (calendarRef.current && !calendarRef.current.contains(event.target)) {\r\n                setCalendarOpen(false);\r\n            }\r\n        };\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => {\r\n            document.removeEventListener('mousedown', handleClickOutside);\r\n        };\r\n    }, []);\r\n    \r\n    useEffect(() => {\r\n        const calculateAvailability = async () => {\r\n            setLoading(true);\r\n            const updatedAvailability = {};\r\n            const selectedDate = new Date(checkIn.getTime() - (checkIn.getTimezoneOffset() * 60000 )).toISOString().split(\"T\")[0];\r\n\r\n            try {\r\n                const response = await fetch(\"https://three-2cs3.onrender.com/api/reservations\");\r\n                const allReservations = await response.json();\r\n                for (const room of roomsData) {\r\n                    let isRoomAvailable = true;\r\n                    for (const res of allReservations) {\r\n                        if (res.roomId === room.id) {\r\n                            const resCheckIn = res.checkIn.split('T')[0];\r\n                            const resCheckOut = res.checkOut.split('T')[0];\r\n                            if (selectedDate >= resCheckIn && selectedDate < resCheckOut) {\r\n                                isRoomAvailable = false;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    updatedAvailability[room.id] = isRoomAvailable;\r\n                }\r\n                setAvailability(updatedAvailability);\r\n            } catch (error) {\r\n                console.error(\"Error al verificar disponibilidad:\", error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        calculateAvailability();\r\n    }, [checkIn]);\r\n\r\n    const handleSelectChange = (id, value) => {\r\n        setSelectedOptions((prev) => ({ ...prev, [id]: value }));\r\n    };\r\n\r\n    const convertToUSD = (amountInCLP) => {\r\n        return (amountInCLP / exchangeRate).toFixed(2);\r\n    };\r\n\r\n    // --- NUEVO: Función para expandir y colapsar los grupos ---\r\n    const toggleGroup = (type) => {\r\n        setExpandedGroups(prevExpanded => ({\r\n            ...prevExpanded,\r\n            [type]: !prevExpanded[type]\r\n        }));\r\n    };\r\n\r\n    return (\r\n        <div className=\"home-container\">\r\n            <video autoPlay loop muted playsInline className=\"video-background\">\r\n                <source src=\"/videos/background.mp4\" type=\"video/mp4\" />\r\n                Your browser does not support the video tag.\r\n            </video>\r\n\r\n            <h1 className=\"home-title\">Bienvenido al Hostal Jallalla</h1>\r\n\r\n            <div className=\"calendar-container\">\r\n                <span className=\"calendar-message\">Seleccione una fecha para ver disponibilidad</span>\r\n                <button\r\n                    onClick={() => setCalendarOpen(!calendarOpen)}\r\n                    className=\"calendar-toggle-btn\"\r\n                >\r\n                    {checkIn.toLocaleDateString(\"es-ES\", { day: \"2-digit\", month: \"2-digit\", year: \"numeric\" })}\r\n                </button>\r\n                {calendarOpen && (\r\n                    <div className=\"calendar-dropdown\" ref={calendarRef}>\r\n                        <Calendar\r\n                            onChange={(date) => {\r\n                                setCheckIn(date);\r\n                                setCalendarOpen(false);\r\n                            }}\r\n                            value={checkIn}\r\n                            minDate={today}\r\n                        />\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {loading ? (\r\n                <p className=\"loading-message\">Cargando disponibilidad...</p>\r\n            ) : (\r\n                <div className=\"room-list\">\r\n                    {Object.keys(groupedRooms).map((type) => {\r\n                        const roomsInGroup = groupedRooms[type];\r\n                        const isExpanded = !!expandedGroups[type];\r\n                        // Lógica para decidir qué habitaciones mostrar\r\n                        const visibleRooms = isExpanded ? roomsInGroup : roomsInGroup.slice(0, 1);\r\n\r\n                        return (\r\n                            <React.Fragment key={type}>\r\n                                <h2 className=\"room-group-title\">{type}</h2>\r\n                                <div className=\"room-group\">\r\n                                    {visibleRooms.map((room) => (\r\n                                        <div key={room.id} className=\"room-card\">\r\n                                            <img src={room.image} alt={room.type} className=\"room-image\" />\r\n                                            <p className=\"room-id\">ID: <strong>{room.id}</strong></p>\r\n                                            <p>\r\n                                                Precio por noche: <strong>\r\n                                                    {selectedOptions[room.id] === 2 && room.priceForTwo\r\n                                                    ? `${room.priceForTwo} CLP ($${convertToUSD(room.priceForTwo)} USD)`\r\n                                                    : `${room.priceForOne} CLP ($${convertToUSD(room.priceForOne)} USD)`}\r\n                                                </strong>\r\n                                            </p>\r\n                                            <label>\r\n                                                Personas:\r\n                                                <select\r\n                                                    value={selectedOptions[room.id] || 1}\r\n                                                    onChange={(e) => handleSelectChange(room.id, parseInt(e.target.value))}\r\n                                                >\r\n                                                    <option value={1}>1 Persona</option>\r\n                                                    {room.priceForTwo && <option value={2}>2 Personas</option>}\r\n                                                </select>\r\n                                            </label>\r\n                                            <p className=\"room-availability\">\r\n                                                <span className={availability[room.id] ? \"available\" : \"not-available\"}>\r\n                                                    {availability[room.id] ? \"Disponible\" : \"No disponible\"}\r\n                                                </span>\r\n                                            </p>\r\n                                            <Link\r\n                                                to={`/room/${room.id}`}\r\n                                                className={`details-btn ${availability[room.id] ? \"\" : \"disabled\"}`}\r\n                                                style={{\r\n                                                    pointerEvents: availability[room.id] ? \"auto\" : \"none\",\r\n                                                    backgroundColor: availability[room.id] ? \"#007bff\" : \"#ccc\",\r\n                                                    cursor: availability[room.id] ? \"pointer\" : \"not-allowed\",\r\n                                                }}\r\n                                            >\r\n                                                {availability[room.id] ? \"Ver Detalles\" : \"No disponible\"}\r\n                                            </Link>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                                {/* --- NUEVO: Botón para mostrar/ocultar habitaciones --- */}\r\n                                {roomsInGroup.length > 1 && (\r\n                                    <button onClick={() => toggleGroup(type)} className=\"show-more-btn\">\r\n                                        {isExpanded ? \"Ver menos\" : `Ver ${roomsInGroup.length - 1} más...`}\r\n                                        <span className={`arrow ${isExpanded ? 'up' : 'down'}`}></span>\r\n                                    </button>\r\n                                )}\r\n                            </React.Fragment>\r\n                        );\r\n                    })}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;"],"mappings":"uIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,QAAQ,KAAM,gBAAgB,CACrC,MAAO,kCAAkC,CACzC,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,oBAAoB,CAC3B,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,eAAe,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExD,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACf,KAAM,CAAAC,KAAK,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CACxB,KAAM,CAAAC,YAAY,CAAG,GAAG,CAExB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAACa,KAAK,CAAC,CAC7C,KAAM,CAACK,YAAY,CAAEC,eAAe,CAAC,CAAGnB,QAAQ,CAAC,CAAC,CAAC,CAAC,CACpD,KAAM,CAACoB,OAAO,CAAEC,UAAU,CAAC,CAAGrB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACsB,YAAY,CAAEC,eAAe,CAAC,CAAGvB,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAAAwB,WAAW,CAAGtB,MAAM,CAAC,IAAI,CAAC,CAChC,KAAM,CAACuB,eAAe,CAAEC,kBAAkB,CAAC,CAAG1B,QAAQ,CAClDK,SAAS,CAACsB,MAAM,CAAC,CAACC,GAAG,CAAEC,IAAI,GAAAC,aAAA,CAAAA,aAAA,IAAWF,GAAG,MAAE,CAACC,IAAI,CAACE,EAAE,EAAG,CAAC,EAAG,CAAE,CAAC,CAAC,CAClE,CAAC,CAED;AACA,KAAM,CAACC,cAAc,CAAEC,iBAAiB,CAAC,CAAGjC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAExD,KAAM,CAAAkC,YAAY,CAAG7B,SAAS,CAACsB,MAAM,CAAC,CAACC,GAAG,CAAEC,IAAI,GAAK,CACjD,KAAM,CAAAM,IAAI,CAAGN,IAAI,CAACM,IAAI,CACtB,GAAI,CAACP,GAAG,CAACO,IAAI,CAAC,CAAE,CAAEP,GAAG,CAACO,IAAI,CAAC,CAAG,EAAE,CAAE,CAClCP,GAAG,CAACO,IAAI,CAAC,CAACC,IAAI,CAACP,IAAI,CAAC,CACpB,MAAO,CAAAD,GAAG,CACd,CAAC,CAAE,CAAC,CAAC,CAAC,CAEN3B,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAoC,kBAAkB,CAAIC,KAAK,EAAK,CAClC,GAAId,WAAW,CAACe,OAAO,EAAI,CAACf,WAAW,CAACe,OAAO,CAACC,QAAQ,CAACF,KAAK,CAACG,MAAM,CAAC,CAAE,CACpElB,eAAe,CAAC,KAAK,CAAC,CAC1B,CACJ,CAAC,CACDmB,QAAQ,CAACC,gBAAgB,CAAC,WAAW,CAAEN,kBAAkB,CAAC,CAC1D,MAAO,IAAM,CACTK,QAAQ,CAACE,mBAAmB,CAAC,WAAW,CAAEP,kBAAkB,CAAC,CACjE,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAENpC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAA4C,qBAAqB,CAAG,KAAAA,CAAA,GAAY,CACtCxB,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAyB,mBAAmB,CAAG,CAAC,CAAC,CAC9B,KAAM,CAAAC,YAAY,CAAG,GAAI,CAAAjC,IAAI,CAACE,OAAO,CAACgC,OAAO,CAAC,CAAC,CAAIhC,OAAO,CAACiC,iBAAiB,CAAC,CAAC,CAAG,KAAO,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAErH,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,kDAAkD,CAAC,CAChF,KAAM,CAAAC,eAAe,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAC7C,IAAK,KAAM,CAAA1B,IAAI,GAAI,CAAAxB,SAAS,CAAE,CAC1B,GAAI,CAAAmD,eAAe,CAAG,IAAI,CAC1B,IAAK,KAAM,CAAAC,GAAG,GAAI,CAAAH,eAAe,CAAE,CAC/B,GAAIG,GAAG,CAACC,MAAM,GAAK7B,IAAI,CAACE,EAAE,CAAE,CACxB,KAAM,CAAA4B,UAAU,CAAGF,GAAG,CAACzC,OAAO,CAACmC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC5C,KAAM,CAAAS,WAAW,CAAGH,GAAG,CAACI,QAAQ,CAACV,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC9C,GAAIJ,YAAY,EAAIY,UAAU,EAAIZ,YAAY,CAAGa,WAAW,CAAE,CAC1DJ,eAAe,CAAG,KAAK,CACvB,MACJ,CACJ,CACJ,CACAV,mBAAmB,CAACjB,IAAI,CAACE,EAAE,CAAC,CAAGyB,eAAe,CAClD,CACArC,eAAe,CAAC2B,mBAAmB,CAAC,CACxC,CAAE,MAAOgB,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,oCAAoC,CAAEA,KAAK,CAAC,CAC9D,CAAC,OAAS,CACNzC,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CACDwB,qBAAqB,CAAC,CAAC,CAC3B,CAAC,CAAE,CAAC7B,OAAO,CAAC,CAAC,CAEb,KAAM,CAAAgD,kBAAkB,CAAGA,CAACjC,EAAE,CAAEkC,KAAK,GAAK,CACtCvC,kBAAkB,CAAEwC,IAAI,EAAApC,aAAA,CAAAA,aAAA,IAAWoC,IAAI,MAAE,CAACnC,EAAE,EAAGkC,KAAK,EAAG,CAAC,CAC5D,CAAC,CAED,KAAM,CAAAE,YAAY,CAAIC,WAAW,EAAK,CAClC,MAAO,CAACA,WAAW,CAAGrD,YAAY,EAAEsD,OAAO,CAAC,CAAC,CAAC,CAClD,CAAC,CAED;AACA,KAAM,CAAAC,WAAW,CAAInC,IAAI,EAAK,CAC1BF,iBAAiB,CAACsC,YAAY,EAAAzC,aAAA,CAAAA,aAAA,IACvByC,YAAY,MACf,CAACpC,IAAI,EAAG,CAACoC,YAAY,CAACpC,IAAI,CAAC,EAC7B,CAAC,CACP,CAAC,CAED,mBACIxB,KAAA,QAAK6D,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3B9D,KAAA,UAAO+D,QAAQ,MAACC,IAAI,MAACC,KAAK,MAACC,WAAW,MAACL,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/DhE,IAAA,WAAQqE,GAAG,CAAC,wBAAwB,CAAC3C,IAAI,CAAC,WAAW,CAAE,CAAC,+CAE5D,EAAO,CAAC,cAER1B,IAAA,OAAI+D,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,+BAA6B,CAAI,CAAC,cAE7D9D,KAAA,QAAK6D,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eAC/BhE,IAAA,SAAM+D,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,8CAA4C,CAAM,CAAC,cACtFhE,IAAA,WACIsE,OAAO,CAAEA,CAAA,GAAMxD,eAAe,CAAC,CAACD,YAAY,CAAE,CAC9CkD,SAAS,CAAC,qBAAqB,CAAAC,QAAA,CAE9BzD,OAAO,CAACgE,kBAAkB,CAAC,OAAO,CAAE,CAAEC,GAAG,CAAE,SAAS,CAAEC,KAAK,CAAE,SAAS,CAAEC,IAAI,CAAE,SAAU,CAAC,CAAC,CACvF,CAAC,CACR7D,YAAY,eACTb,IAAA,QAAK+D,SAAS,CAAC,mBAAmB,CAACY,GAAG,CAAE5D,WAAY,CAAAiD,QAAA,cAChDhE,IAAA,CAACL,QAAQ,EACLiF,QAAQ,CAAGC,IAAI,EAAK,CAChBrE,UAAU,CAACqE,IAAI,CAAC,CAChB/D,eAAe,CAAC,KAAK,CAAC,CAC1B,CAAE,CACF0C,KAAK,CAAEjD,OAAQ,CACfuE,OAAO,CAAE1E,KAAM,CAClB,CAAC,CACD,CACR,EACA,CAAC,CAELO,OAAO,cACJX,IAAA,MAAG+D,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,4BAA0B,CAAG,CAAC,cAE7DhE,IAAA,QAAK+D,SAAS,CAAC,WAAW,CAAAC,QAAA,CACrBe,MAAM,CAACC,IAAI,CAACvD,YAAY,CAAC,CAACwD,GAAG,CAAEvD,IAAI,EAAK,CACrC,KAAM,CAAAwD,YAAY,CAAGzD,YAAY,CAACC,IAAI,CAAC,CACvC,KAAM,CAAAyD,UAAU,CAAG,CAAC,CAAC5D,cAAc,CAACG,IAAI,CAAC,CACzC;AACA,KAAM,CAAA0D,YAAY,CAAGD,UAAU,CAAGD,YAAY,CAAGA,YAAY,CAACG,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAEzE,mBACInF,KAAA,CAACZ,KAAK,CAACgG,QAAQ,EAAAtB,QAAA,eACXhE,IAAA,OAAI+D,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAEtC,IAAI,CAAK,CAAC,cAC5C1B,IAAA,QAAK+D,SAAS,CAAC,YAAY,CAAAC,QAAA,CACtBoB,YAAY,CAACH,GAAG,CAAE7D,IAAI,eACnBlB,KAAA,QAAmB6D,SAAS,CAAC,WAAW,CAAAC,QAAA,eACpChE,IAAA,QAAKqE,GAAG,CAAEjD,IAAI,CAACmE,KAAM,CAACC,GAAG,CAAEpE,IAAI,CAACM,IAAK,CAACqC,SAAS,CAAC,YAAY,CAAE,CAAC,cAC/D7D,KAAA,MAAG6D,SAAS,CAAC,SAAS,CAAAC,QAAA,EAAC,MAAI,cAAAhE,IAAA,WAAAgE,QAAA,CAAS5C,IAAI,CAACE,EAAE,CAAS,CAAC,EAAG,CAAC,cACzDpB,KAAA,MAAA8D,QAAA,EAAG,oBACmB,cAAAhE,IAAA,WAAAgE,QAAA,CACbhD,eAAe,CAACI,IAAI,CAACE,EAAE,CAAC,GAAK,CAAC,EAAIF,IAAI,CAACqE,WAAW,IAAAC,MAAA,CAC9CtE,IAAI,CAACqE,WAAW,YAAAC,MAAA,CAAUhC,YAAY,CAACtC,IAAI,CAACqE,WAAW,CAAC,aAAAC,MAAA,CACxDtE,IAAI,CAACuE,WAAW,YAAAD,MAAA,CAAUhC,YAAY,CAACtC,IAAI,CAACuE,WAAW,CAAC,SAAO,CAChE,CAAC,EACV,CAAC,cACJzF,KAAA,UAAA8D,QAAA,EAAO,WAEH,cAAA9D,KAAA,WACIsD,KAAK,CAAExC,eAAe,CAACI,IAAI,CAACE,EAAE,CAAC,EAAI,CAAE,CACrCsD,QAAQ,CAAGgB,CAAC,EAAKrC,kBAAkB,CAACnC,IAAI,CAACE,EAAE,CAAEuE,QAAQ,CAACD,CAAC,CAAC5D,MAAM,CAACwB,KAAK,CAAC,CAAE,CAAAQ,QAAA,eAEvEhE,IAAA,WAAQwD,KAAK,CAAE,CAAE,CAAAQ,QAAA,CAAC,WAAS,CAAQ,CAAC,CACnC5C,IAAI,CAACqE,WAAW,eAAIzF,IAAA,WAAQwD,KAAK,CAAE,CAAE,CAAAQ,QAAA,CAAC,YAAU,CAAQ,CAAC,EACtD,CAAC,EACN,CAAC,cACRhE,IAAA,MAAG+D,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAC5BhE,IAAA,SAAM+D,SAAS,CAAEtD,YAAY,CAACW,IAAI,CAACE,EAAE,CAAC,CAAG,WAAW,CAAG,eAAgB,CAAA0C,QAAA,CAClEvD,YAAY,CAACW,IAAI,CAACE,EAAE,CAAC,CAAG,YAAY,CAAG,eAAe,CACrD,CAAC,CACR,CAAC,cACJtB,IAAA,CAACN,IAAI,EACDoG,EAAE,UAAAJ,MAAA,CAAWtE,IAAI,CAACE,EAAE,CAAG,CACvByC,SAAS,gBAAA2B,MAAA,CAAiBjF,YAAY,CAACW,IAAI,CAACE,EAAE,CAAC,CAAG,EAAE,CAAG,UAAU,CAAG,CACpEyE,KAAK,CAAE,CACHC,aAAa,CAAEvF,YAAY,CAACW,IAAI,CAACE,EAAE,CAAC,CAAG,MAAM,CAAG,MAAM,CACtD2E,eAAe,CAAExF,YAAY,CAACW,IAAI,CAACE,EAAE,CAAC,CAAG,SAAS,CAAG,MAAM,CAC3D4E,MAAM,CAAEzF,YAAY,CAACW,IAAI,CAACE,EAAE,CAAC,CAAG,SAAS,CAAG,aAChD,CAAE,CAAA0C,QAAA,CAEDvD,YAAY,CAACW,IAAI,CAACE,EAAE,CAAC,CAAG,cAAc,CAAG,eAAe,CACvD,CAAC,GAnCDF,IAAI,CAACE,EAoCV,CACR,CAAC,CACD,CAAC,CAEL4D,YAAY,CAACiB,MAAM,CAAG,CAAC,eACpBjG,KAAA,WAAQoE,OAAO,CAAEA,CAAA,GAAMT,WAAW,CAACnC,IAAI,CAAE,CAACqC,SAAS,CAAC,eAAe,CAAAC,QAAA,EAC9DmB,UAAU,CAAG,WAAW,QAAAO,MAAA,CAAUR,YAAY,CAACiB,MAAM,CAAG,CAAC,cAAS,cACnEnG,IAAA,SAAM+D,SAAS,UAAA2B,MAAA,CAAWP,UAAU,CAAG,IAAI,CAAG,MAAM,CAAG,CAAO,CAAC,EAC3D,CACX,GAjDgBzD,IAkDL,CAAC,CAEzB,CAAC,CAAC,CACD,CACR,EACA,CAAC,CAEd,CAAC,CAED,cAAe,CAAAvB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}