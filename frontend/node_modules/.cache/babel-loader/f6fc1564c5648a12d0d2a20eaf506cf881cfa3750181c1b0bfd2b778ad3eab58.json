{"ast":null,"code":"import _objectSpread from\"C:/Users/Jonathan/Desktop/Proyecto Hostal/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{useParams,useNavigate}from'react-router-dom';import rooms from'../data/rooms';import Calendar from'react-calendar';import{PayPalButtons,PayPalScriptProvider}from'@paypal/react-paypal-js';import{Carousel}from'react-responsive-carousel';import Lightbox from\"yet-another-react-lightbox\";import\"yet-another-react-lightbox/styles.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const RoomDetails=()=>{// --- Tus estados originales (intactos) ---\nconst[paypalKey,setPaypalKey]=useState(Date.now());const[isLightboxOpen,setLightboxOpen]=useState(false);const[currentImageIndex,setCurrentImageIndex]=useState(0);const{id}=useParams();const navigate=useNavigate();const room=rooms.find(room=>room.id===parseInt(id));const[selectedDate,setSelectedDate]=useState(null);const[checkOut,setCheckOut]=useState(null);const[isAvailable,setIsAvailable]=useState(false);const[selectedOption,setSelectedOption]=useState(1);const[showForm,setShowForm]=useState(false);const[error,setError]=useState('');const[showCheckInCalendar,setShowCheckInCalendar]=useState(false);const[showCheckOutCalendar,setShowCheckOutCalendar]=useState(false);const checkInRef=useRef(null);const checkOutRef=useRef(null);const[formData,setFormData]=useState({clientName1:'',clientName2:'',clientEmail:'',rutOrPassport:'',phone:'',nationality:'',address:''});// --- Tus useEffects originales (intactos) ---\nuseEffect(()=>{if(!isAvailable||!selectedDate||!checkOut){setShowForm(false);}},[isAvailable,selectedDate,checkOut]);useEffect(()=>{const handleClickOutside=event=>{const calendarElements=['.react-calendar','.react-calendar__navigation','.react-calendar__navigation__arrow','.react-calendar__tile','.react-calendar__month-view__days'];const isClickInsideCalendar=calendarElements.some(selector=>event.target.closest(selector));if(!isClickInsideCalendar){setShowCheckInCalendar(false);setShowCheckOutCalendar(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);useEffect(()=>{const checkAvailability=async()=>{if(selectedDate&&checkOut){if(selectedDate.toISOString().split('T')[0]===checkOut.toISOString().split('T')[0]){setError('La fecha de ingreso no puede ser igual a la de salida.');setIsAvailable(false);return;}try{var _data$unavailableRoom;const apiUrl=process.env.NODE_ENV==='development'?'http://localhost:5000/api/reservations/check-availability':'https://three-2cs3.onrender.com/api/reservations/check-availability';const response=await fetch(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({checkIn:selectedDate.toISOString().split('T')[0],checkOut:checkOut.toISOString().split('T')[0],roomId:room.id})});const data=await response.json();setError('');setIsAvailable(!((_data$unavailableRoom=data.unavailableRooms)!==null&&_data$unavailableRoom!==void 0&&_data$unavailableRoom.includes(room.id)));}catch(error){console.error('Error al verificar disponibilidad:',error);setIsAvailable(false);}}};checkAvailability();},[selectedDate,checkOut,room===null||room===void 0?void 0:room.id]);// --- Tus funciones originales (intactas) ---\nconst handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleCheckInChange=date=>{setSelectedDate(date);setShowCheckInCalendar(false);if(!checkOut||date.getTime()>=checkOut.getTime()){const nextDay=new Date(date);nextDay.setDate(date.getDate()+1);setCheckOut(nextDay);}setPaypalKey(Date.now());};const handleCheckOutChange=date=>{setCheckOut(date);setShowCheckOutCalendar(false);setPaypalKey(Date.now());};const exchangeRate=900;const calculateNights=()=>{if(!selectedDate||!checkOut)return 0;return Math.ceil((checkOut-selectedDate)/(1000*60*60*24));};const convertToUSD=amountInCLP=>(amountInCLP/exchangeRate).toFixed(2);const calculateTotalPrice=()=>{const nights=calculateNights();const pricePerNight=selectedOption===1?room.priceForOne:room.priceForTwo;return nights*pricePerNight;};const calculateTotalPriceInUSD=()=>convertToUSD(calculateTotalPrice());// --- FUNCIÓN DE RESERVA UNIFICADA (REEMPLAZO DE LA ANTIGUA) ---\nconst handleConfirmReservation=async function(){let paymentInfo=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!formData.clientName1||!formData.rutOrPassport){alert(\"Por favor, completa al menos el nombre y RUT/Pasaporte.\");return;}const reservationData={roomId:room.id,clientName:formData.clientName1,clientName2:selectedOption===2?formData.clientName2:undefined,clientEmail:formData.clientEmail||undefined,numberOfGuests:selectedOption,checkIn:selectedDate===null||selectedDate===void 0?void 0:selectedDate.toISOString().split('T')[0],checkOut:checkOut===null||checkOut===void 0?void 0:checkOut.toISOString().split('T')[0],nights:calculateNights(),rutOrPassport:formData.rutOrPassport,phone:formData.phone,nationality:formData.nationality,address:formData.address,totalCost:calculateTotalPrice(),paymentMethod:paymentInfo.method||'En Hostal',paymentStatus:paymentInfo.status||'pendiente',transactionId:paymentInfo.transactionId||'N/A'};try{const apiUrl=process.env.NODE_ENV==='development'?'http://localhost:5000/api/reservations':'https://three-2cs3.onrender.com/api/reservations';const response=await fetch(apiUrl,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(reservationData)});if(response.ok){navigate('/success',{state:{reservation:reservationData}});}else{const result=await response.json();alert(\"Error al realizar la reserva: \".concat(result.message));}}catch(error){console.error('Error al conectar con el servidor:',error);alert('Hubo un error al conectar con el servidor.');}};const roomImages=room!==null&&room!==void 0&&room.images&&Array.isArray(room.images)&&room.images.length>0?room.images:[room===null||room===void 0?void 0:room.image];const lightboxSlides=roomImages.map(imgSrc=>({src:imgSrc}));if(!room){return/*#__PURE__*/_jsx(\"div\",{children:\"Habitaci\\xF3n no encontrada\"});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'30px',textAlign:'center',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{display:'inline-block',padding:'10px 20px',fontSize:'15px',fontWeight:'bold',color:'white',backgroundColor:'#007bff',border:'2px solidrgb(255, 255, 255)',borderRadius:'20px',textAlign:'center',cursor:'default'},children:room.type}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID:\"}),\" \",room.id]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',fontSize:'15px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Selecciona tus fechas\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsxs(\"div\",{ref:checkInRef,style:{border:'1px solid #ccc',padding:'10px',borderRadius:'30px',cursor:'pointer',backgroundColor:'#f9f9f9',position:'relative'},onClick:()=>setShowCheckInCalendar(prev=>!prev),children:[selectedDate?selectedDate.toLocaleDateString('es-ES'):'Selecciona fecha de ingreso',showCheckInCalendar&&/*#__PURE__*/_jsx(\"div\",{className:\"react-calendar\",style:{position:'absolute',zIndex:10},onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsx(Calendar,{onClickDay:date=>{handleCheckInChange(date);setShowCheckInCalendar(false);},value:selectedDate,locale:\"es-ES\",minDate:new Date()})})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsxs(\"div\",{ref:checkOutRef,style:{border:'1px solid #ccc',padding:'10px',borderRadius:'20px',cursor:'pointer',backgroundColor:'#f9f9f9',position:'relative'},onClick:()=>setShowCheckOutCalendar(prev=>!prev),children:[checkOut?checkOut.toLocaleDateString('es-ES'):'Selecciona fecha de salida',showCheckOutCalendar&&/*#__PURE__*/_jsx(\"div\",{className:\"react-calendar\",style:{position:'absolute',zIndex:10},onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsx(Calendar,{onClickDay:date=>{handleCheckOutChange(date);setShowCheckOutCalendar(false);},value:checkOut,locale:\"es-ES\",minDate:selectedDate?new Date(selectedDate.getTime()+24*60*60*1000):new Date()})})]})}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red',fontWeight:'bold'},children:error}),selectedDate&&checkOut&&!error&&/*#__PURE__*/_jsx(\"p\",{style:{marginTop:'20px',fontSize:'18px',fontWeight:'bold',color:isAvailable?'#28a745':'#dc3545',textAlign:'center'},children:isAvailable?'¡Disponible!':'No disponible'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',gap:'30px',marginBottom:'20px',textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,textAlign:'center'},children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:'0.8em',fontWeight:'bold'},children:\"Precio por Noche\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:'0.7em'},children:selectedOption===1?\"\".concat(room.priceForOne,\" CLP\"):\"\".concat(room.priceForTwo,\" CLP\")}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,fontSize:'0.7em'},children:[\"($ \",selectedOption===1?convertToUSD(room.priceForOne):convertToUSD(room.priceForTwo),\" USD)\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,maxWidth:'250px',margin:'0 auto'},children:/*#__PURE__*/_jsx(Carousel,{showThumbs:false,infiniteLoop:true,autoPlay:true,interval:3000,showStatus:false,onClickItem:index=>{setCurrentImageIndex(index);setLightboxOpen(true);},children:roomImages.map((imgSrc,index)=>/*#__PURE__*/_jsx(\"div\",{style:{cursor:'pointer'},children:/*#__PURE__*/_jsx(\"img\",{src:imgSrc,alt:\"\".concat(room.type,\" - Imagen \").concat(index+1),style:{borderRadius:'8px'}})},index))})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,textAlign:'left',minHeight:'60px'},children:selectedDate&&checkOut&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,fontWeight:'bold'},children:[\"Noches: \",calculateNights()]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,fontWeight:'bold'},children:[\"Total: \",calculateTotalPrice(),\" CLP\"]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,fontSize:'0.8em'},children:[\"($ \",calculateTotalPriceInUSD(),\" USD)\"]})]})})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\" Personas:\",/*#__PURE__*/_jsxs(\"select\",{value:selectedOption,onChange:e=>{setSelectedOption(parseInt(e.target.value));setPaypalKey(Date.now());},style:{marginLeft:'20px',padding:'7px',fontSize:'12px',borderRadius:'10px',border:'1px solid #ddd'},children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"1 Persona\"}),room.priceForTwo&&/*#__PURE__*/_jsx(\"option\",{value:2,children:\"2 Personas\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),style:{padding:'10.2px 30px',backgroundColor:'#007bff',color:'#fff',border:'none',borderRadius:'25px',cursor:'pointer',fontSize:'18px',marginRight:'20px'},children:\"Volver\"}),/*#__PURE__*/_jsx(\"button\",{disabled:!selectedDate||!checkOut||!isAvailable,onClick:()=>setShowForm(true),style:{padding:'11px 20px',backgroundColor:!selectedDate||!checkOut||!isAvailable?'#ccc':'#28a745',color:!selectedDate||!checkOut||!isAvailable?'#666':'#fff',border:'100px',borderRadius:'50px',cursor:!selectedDate||!checkOut||!isAvailable?'not-allowed':'pointer',fontSize:'16px'},children:\"Reservar\"})]}),showForm&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>e.preventDefault(),style:{marginTop:'20px',textAlign:'left',maxWidth:'600px',margin:'20px auto',padding:'20px',backgroundColor:'#f9f9f9',borderRadius:'8px',boxShadow:'0 2px 4px rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Formulario de Reserva\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Nombre completo:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"clientName1\",value:formData.clientName1,onChange:handleInputChange,required:true,style:{width:'100%',marginBottom:'10px'}}),selectedOption===2&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nombre completo (Persona 2):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"clientName2\",value:formData.clientName2,onChange:handleInputChange,required:true,style:{width:'100%',marginBottom:'10px'}})]}),/*#__PURE__*/_jsx(\"label\",{children:\"RUT o n\\xFAmero de pasaporte:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"rutOrPassport\",value:formData.rutOrPassport,onChange:handleInputChange,required:true,style:{width:'100%',marginBottom:'10px'}}),/*#__PURE__*/_jsx(\"label\",{children:\"Correo electr\\xF3nico (opcional):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"clientEmail\",value:formData.clientEmail,onChange:handleInputChange,style:{width:'100%',marginBottom:'10px'}}),/*#__PURE__*/_jsx(\"label\",{children:\"Tel\\xE9fono:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",value:formData.phone,onChange:handleInputChange,required:true,style:{width:'100%',marginBottom:'10px'}}),/*#__PURE__*/_jsx(\"label\",{children:\"Nacionalidad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nationality\",value:formData.nationality,onChange:handleInputChange,required:true,style:{width:'100%',marginBottom:'10px'}}),/*#__PURE__*/_jsx(\"label\",{children:\"Direcci\\xF3n:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",value:formData.address,onChange:handleInputChange,required:true,style:{width:'100%',marginBottom:'10px'}}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Cantidad de noches: \",/*#__PURE__*/_jsx(\"strong\",{children:calculateNights()})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Precio total: \",/*#__PURE__*/_jsxs(\"strong\",{children:[calculateTotalPrice(),\" CLP\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Total a pagar: \",calculateTotalPrice(),\" CLP ($ \",calculateTotalPriceInUSD(),\" USD)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-section\",children:[/*#__PURE__*/_jsx(\"h4\",{style:{textAlign:'center'},children:\"Opci\\xF3n 1: Pagar ahora con PayPal o Tarjeta\"}),/*#__PURE__*/_jsx(PayPalButtons,{createOrder:(data,actions)=>{if(!formData.clientName1||!formData.rutOrPassport){alert(\"Por favor, completa el formulario antes de pagar.\");return Promise.reject(new Error(\"Formulario incompleto\"));}return actions.order.create({purchase_units:[{amount:{value:calculateTotalPriceInUSD()}}]});},onApprove:(data,actions)=>{return actions.order.capture().then(details=>{handleConfirmReservation({method:'PayPal',status:'pagado',transactionId:details.id});});},onError:err=>{alert('Hubo un error con el pago. Por favor, intenta de nuevo.');console.error(\"PayPal Error:\",err);}},paypalKey),/*#__PURE__*/_jsx(\"h4\",{style:{textAlign:'center',margin:'20px 0'},children:\"o\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Opci\\xF3n 2: Reservar ahora y pagar en el hostal\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleConfirmReservation(),style:{width:'100%',backgroundColor:'#007BFF',color:'#fff',border:'none',padding:'10px 20px',borderRadius:'5px',cursor:'pointer',fontSize:'16px'},children:\"Confirmar y Pagar al Llegar\"})]})]})]}),/*#__PURE__*/_jsx(Lightbox,{open:isLightboxOpen,close:()=>setLightboxOpen(false),slides:lightboxSlides,index:currentImageIndex})]});};// No se necesita el Wrapper, ya que el Provider está en tu archivo App.js\nexport default RoomDetails;","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","rooms","Calendar","PayPalButtons","PayPalScriptProvider","Carousel","Lightbox","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RoomDetails","paypalKey","setPaypalKey","Date","now","isLightboxOpen","setLightboxOpen","currentImageIndex","setCurrentImageIndex","id","navigate","room","find","parseInt","selectedDate","setSelectedDate","checkOut","setCheckOut","isAvailable","setIsAvailable","selectedOption","setSelectedOption","showForm","setShowForm","error","setError","showCheckInCalendar","setShowCheckInCalendar","showCheckOutCalendar","setShowCheckOutCalendar","checkInRef","checkOutRef","formData","setFormData","clientName1","clientName2","clientEmail","rutOrPassport","phone","nationality","address","handleClickOutside","event","calendarElements","isClickInsideCalendar","some","selector","target","closest","document","addEventListener","removeEventListener","checkAvailability","toISOString","split","_data$unavailableRoom","apiUrl","process","env","NODE_ENV","response","fetch","method","headers","body","JSON","stringify","checkIn","roomId","data","json","unavailableRooms","includes","console","handleInputChange","e","name","value","prev","_objectSpread","handleCheckInChange","date","getTime","nextDay","setDate","getDate","handleCheckOutChange","exchangeRate","calculateNights","Math","ceil","convertToUSD","amountInCLP","toFixed","calculateTotalPrice","nights","pricePerNight","priceForOne","priceForTwo","calculateTotalPriceInUSD","handleConfirmReservation","paymentInfo","arguments","length","undefined","alert","reservationData","clientName","numberOfGuests","totalCost","paymentMethod","paymentStatus","status","transactionId","ok","state","reservation","result","concat","message","roomImages","images","Array","isArray","image","lightboxSlides","map","imgSrc","src","children","style","padding","textAlign","fontSize","display","fontWeight","color","backgroundColor","border","borderRadius","cursor","type","marginTop","marginBottom","ref","position","onClick","toLocaleDateString","className","zIndex","stopPropagation","onClickDay","locale","minDate","justifyContent","alignItems","gap","flex","margin","maxWidth","showThumbs","infiniteLoop","autoPlay","interval","showStatus","onClickItem","index","alt","minHeight","onChange","marginLeft","marginRight","disabled","onSubmit","preventDefault","boxShadow","required","width","createOrder","actions","Promise","reject","Error","order","create","purchase_units","amount","onApprove","capture","then","details","onError","err","open","close","slides"],"sources":["C:/Users/Jonathan/Desktop/Proyecto Hostal/frontend/src/pages/RoomDetails.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport rooms from '../data/rooms';\r\nimport Calendar from 'react-calendar';\r\nimport { PayPalButtons, PayPalScriptProvider } from '@paypal/react-paypal-js';\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport Lightbox from \"yet-another-react-lightbox\";\r\nimport \"yet-another-react-lightbox/styles.css\";\r\n\r\nconst RoomDetails = () => {\r\n    // --- Tus estados originales (intactos) ---\r\n    const [paypalKey, setPaypalKey] = useState(Date.now());\r\n    const [isLightboxOpen, setLightboxOpen] = useState(false);\r\n    const [currentImageIndex, setCurrentImageIndex] = useState(0);\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const room = rooms.find((room) => room.id === parseInt(id));\r\n\r\n    const [selectedDate, setSelectedDate] = useState(null);\r\n    const [checkOut, setCheckOut] = useState(null);\r\n    const [isAvailable, setIsAvailable] = useState(false);\r\n    const [selectedOption, setSelectedOption] = useState(1);\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    const [showCheckInCalendar, setShowCheckInCalendar] = useState(false);\r\n    const [showCheckOutCalendar, setShowCheckOutCalendar] = useState(false);\r\n\r\n    const checkInRef = useRef(null);\r\n    const checkOutRef = useRef(null);\r\n\r\n    const [formData, setFormData] = useState({\r\n        clientName1: '',\r\n        clientName2: '',\r\n        clientEmail: '',\r\n        rutOrPassport: '',\r\n        phone: '',\r\n        nationality: '',\r\n        address: '',\r\n    });\r\n\r\n    // --- Tus useEffects originales (intactos) ---\r\n    useEffect(() => {\r\n        if (!isAvailable || !selectedDate || !checkOut) {\r\n            setShowForm(false);\r\n        }\r\n    }, [isAvailable, selectedDate, checkOut]);\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            const calendarElements = [\r\n                '.react-calendar', '.react-calendar__navigation', '.react-calendar__navigation__arrow',\r\n                '.react-calendar__tile', '.react-calendar__month-view__days',\r\n            ];\r\n            const isClickInsideCalendar = calendarElements.some((selector) => event.target.closest(selector));\r\n            if (!isClickInsideCalendar) {\r\n                setShowCheckInCalendar(false);\r\n                setShowCheckOutCalendar(false);\r\n            }\r\n        };\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const checkAvailability = async () => {\r\n            if (selectedDate && checkOut) {\r\n                if (selectedDate.toISOString().split('T')[0] === checkOut.toISOString().split('T')[0]) {\r\n                    setError('La fecha de ingreso no puede ser igual a la de salida.');\r\n                    setIsAvailable(false);\r\n                    return;\r\n                }\r\n                try {\r\n                    const apiUrl = process.env.NODE_ENV === 'development'\r\n                        ? 'http://localhost:5000/api/reservations/check-availability'\r\n                        : 'https://three-2cs3.onrender.com/api/reservations/check-availability';\r\n\r\n                    const response = await fetch(apiUrl, {\r\n                        method: 'POST',\r\n                        headers: { 'Content-Type': 'application/json' },\r\n                        body: JSON.stringify({\r\n                            checkIn: selectedDate.toISOString().split('T')[0],\r\n                            checkOut: checkOut.toISOString().split('T')[0],\r\n                            roomId: room.id,\r\n                        }),\r\n                    });\r\n                    const data = await response.json();\r\n                    setError('');\r\n                    setIsAvailable(!data.unavailableRooms?.includes(room.id));\r\n                } catch (error) {\r\n                    console.error('Error al verificar disponibilidad:', error);\r\n                    setIsAvailable(false);\r\n                }\r\n            }\r\n        };\r\n        checkAvailability();\r\n    }, [selectedDate, checkOut, room?.id]);\r\n\r\n    // --- Tus funciones originales (intactas) ---\r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleCheckInChange = (date) => {\r\n        setSelectedDate(date);\r\n        setShowCheckInCalendar(false);\r\n        if (!checkOut || date.getTime() >= checkOut.getTime()) {\r\n            const nextDay = new Date(date);\r\n            nextDay.setDate(date.getDate() + 1);\r\n            setCheckOut(nextDay);\r\n        }\r\n        setPaypalKey(Date.now());\r\n    };\r\n\r\n    const handleCheckOutChange = (date) => {\r\n        setCheckOut(date);\r\n        setShowCheckOutCalendar(false);\r\n        setPaypalKey(Date.now());\r\n    };\r\n\r\n    const exchangeRate = 900;\r\n    const calculateNights = () => {\r\n        if (!selectedDate || !checkOut) return 0;\r\n        return Math.ceil((checkOut - selectedDate) / (1000 * 60 * 60 * 24));\r\n    };\r\n    const convertToUSD = (amountInCLP) => (amountInCLP / exchangeRate).toFixed(2);\r\n    const calculateTotalPrice = () => {\r\n        const nights = calculateNights();\r\n        const pricePerNight = selectedOption === 1 ? room.priceForOne : room.priceForTwo;\r\n        return nights * pricePerNight;\r\n    };\r\n    const calculateTotalPriceInUSD = () => convertToUSD(calculateTotalPrice());\r\n    \r\n    // --- FUNCIÓN DE RESERVA UNIFICADA (REEMPLAZO DE LA ANTIGUA) ---\r\n    const handleConfirmReservation = async (paymentInfo = {}) => {\r\n        if (!formData.clientName1 || !formData.rutOrPassport) {\r\n            alert(\"Por favor, completa al menos el nombre y RUT/Pasaporte.\");\r\n            return;\r\n        }\r\n        const reservationData = {\r\n            roomId: room.id,\r\n            clientName: formData.clientName1,\r\n            clientName2: selectedOption === 2 ? formData.clientName2 : undefined,\r\n            clientEmail: formData.clientEmail || undefined,\r\n            numberOfGuests: selectedOption,\r\n            checkIn: selectedDate?.toISOString().split('T')[0],\r\n            checkOut: checkOut?.toISOString().split('T')[0],\r\n            nights: calculateNights(),\r\n            rutOrPassport: formData.rutOrPassport,\r\n            phone: formData.phone,\r\n            nationality: formData.nationality,\r\n            address: formData.address,\r\n            totalCost: calculateTotalPrice(),\r\n            paymentMethod: paymentInfo.method || 'En Hostal',\r\n            paymentStatus: paymentInfo.status || 'pendiente',\r\n            transactionId: paymentInfo.transactionId || 'N/A',\r\n        };\r\n        try {\r\n            const apiUrl = process.env.NODE_ENV === 'development'\r\n                ? 'http://localhost:5000/api/reservations'\r\n                : 'https://three-2cs3.onrender.com/api/reservations';\r\n\r\n            const response = await fetch(apiUrl, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(reservationData),\r\n            });\r\n            if (response.ok) {\r\n                navigate('/success', { state: { reservation: reservationData } });\r\n            } else {\r\n                const result = await response.json();\r\n                alert(`Error al realizar la reserva: ${result.message}`);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error al conectar con el servidor:', error);\r\n            alert('Hubo un error al conectar con el servidor.');\r\n        }\r\n    };\r\n    \r\n    const roomImages = (room?.images && Array.isArray(room.images) && room.images.length > 0) \r\n        ? room.images \r\n        : [room?.image];\r\n        \r\n    const lightboxSlides = roomImages.map(imgSrc => ({ src: imgSrc }));\r\n\r\n    if (!room) {\r\n        return <div>Habitación no encontrada</div>\r\n    }\r\n\r\n    return (\r\n        <div style={{ padding: '30px', textAlign: 'center', fontSize: '12px', }}>\r\n            {/* === INICIO DE TU CÓDIGO JSX ORIGINAL (INTACTO) === */}\r\n            <h1 style={{ display: 'inline-block', padding: '10px 20px', fontSize: '15px', fontWeight: 'bold', color: 'white', backgroundColor: '#007bff', border: '2px solidrgb(255, 255, 255)', borderRadius: '20px', textAlign: 'center', cursor: 'default' }}>\r\n                {room.type}\r\n            </h1>\r\n            <p><strong>ID:</strong> {room.id}</p>\r\n            <div style={{ marginTop: '10px', fontSize: '15px', }}>\r\n                <h2>Selecciona tus fechas</h2>\r\n                <div style={{ marginBottom: '20px', }}>\r\n                    <div ref={checkInRef} style={{ border: '1px solid #ccc', padding: '10px', borderRadius: '30px', cursor: 'pointer', backgroundColor: '#f9f9f9', position: 'relative' }} onClick={() => setShowCheckInCalendar((prev) => !prev)}>\r\n                        {selectedDate ? selectedDate.toLocaleDateString('es-ES') : 'Selecciona fecha de ingreso'}\r\n                        {showCheckInCalendar && (<div className=\"react-calendar\" style={{ position: 'absolute', zIndex: 10 }} onClick={(e) => e.stopPropagation()}>\r\n                                <Calendar onClickDay={(date) => { handleCheckInChange(date); setShowCheckInCalendar(false); }} value={selectedDate} locale=\"es-ES\" minDate={new Date()} />\r\n                            </div>)}\r\n                    </div>\r\n                </div>\r\n                <div style={{ marginBottom: '20px' }}>\r\n                    <div ref={checkOutRef} style={{ border: '1px solid #ccc', padding: '10px', borderRadius: '20px', cursor: 'pointer', backgroundColor: '#f9f9f9', position: 'relative' }} onClick={() => setShowCheckOutCalendar((prev) => !prev)}>\r\n                        {checkOut ? checkOut.toLocaleDateString('es-ES') : 'Selecciona fecha de salida'}\r\n                        {showCheckOutCalendar && (<div className=\"react-calendar\" style={{ position: 'absolute', zIndex: 10 }} onClick={(e) => e.stopPropagation()}>\r\n                                <Calendar onClickDay={(date) => { handleCheckOutChange(date); setShowCheckOutCalendar(false); }} value={checkOut} locale=\"es-ES\" minDate={selectedDate ? new Date(selectedDate.getTime() + 24 * 60 * 60 * 1000) : new Date()} />\r\n                            </div>)}\r\n                    </div>\r\n                </div>\r\n                {error && <p style={{ color: 'red', fontWeight: 'bold' }}>{error}</p>}\r\n                {selectedDate && checkOut && !error && (<p style={{ marginTop: '20px', fontSize: '18px', fontWeight: 'bold', color: isAvailable ? '#28a745' : '#dc3545', textAlign: 'center' }}>\r\n                        {isAvailable ? '¡Disponible!' : 'No disponible'}\r\n                    </p>)}\r\n            </div>\r\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', gap: '30px', marginBottom: '20px', textAlign: 'center' }}>\r\n                <div style={{ flex: 1, textAlign: 'center' }}>\r\n                    <p style={{ margin: 0, fontSize: '0.8em', fontWeight: 'bold' }}>Precio por Noche</p>\r\n                    <p style={{ margin: 0, fontSize: '0.7em' }}>{selectedOption === 1 ? `${room.priceForOne} CLP` : `${room.priceForTwo} CLP`}</p>\r\n                    <p style={{ margin: 0, fontSize: '0.7em' }}>($ {selectedOption === 1 ? convertToUSD(room.priceForOne) : convertToUSD(room.priceForTwo)} USD)</p>\r\n                </div>\r\n                <div style={{ flex: 1, maxWidth: '250px', margin: '0 auto' }}>\r\n                    <Carousel showThumbs={false} infiniteLoop={true} autoPlay={true} interval={3000} showStatus={false} onClickItem={(index) => { setCurrentImageIndex(index); setLightboxOpen(true); }}>\r\n                        {roomImages.map((imgSrc, index) => (<div key={index} style={{ cursor: 'pointer' }}>\r\n                                <img src={imgSrc} alt={`${room.type} - Imagen ${index + 1}`} style={{ borderRadius: '8px' }} />\r\n                            </div>))}\r\n                    </Carousel>\r\n                </div>\r\n                <div style={{ flex: 1, textAlign: 'left', minHeight: '60px' }}>\r\n                    {selectedDate && checkOut && (<div>\r\n                            <p style={{ margin: 0, fontWeight: 'bold' }}>Noches: {calculateNights()}</p>\r\n                            <p style={{ margin: 0, fontWeight: 'bold' }}>Total: {calculateTotalPrice()} CLP</p>\r\n                            <p style={{ margin: 0, fontSize: '0.8em' }}>($ {calculateTotalPriceInUSD()} USD)</p>\r\n                        </div>)}\r\n                </div>\r\n            </div>\r\n            <label> Personas:\r\n                <select value={selectedOption} onChange={(e) => { setSelectedOption(parseInt(e.target.value)); setPaypalKey(Date.now()); }} style={{ marginLeft: '20px', padding: '7px', fontSize: '12px', borderRadius: '10px', border: '1px solid #ddd', }}>\r\n                    <option value={1}>1 Persona</option>\r\n                    {room.priceForTwo && <option value={2}>2 Personas</option>}\r\n                </select>\r\n            </label>\r\n            <div style={{ marginBottom: '20px' }}>\r\n                <button onClick={() => navigate(-1)} style={{ padding: '10.2px 30px', backgroundColor: '#007bff', color: '#fff', border: 'none', borderRadius: '25px', cursor: 'pointer', fontSize: '18px', marginRight: '20px' }}>\r\n                    Volver\r\n                </button>\r\n                <button disabled={!selectedDate || !checkOut || !isAvailable} onClick={() => setShowForm(true)} style={{ padding: '11px 20px', backgroundColor: !selectedDate || !checkOut || !isAvailable ? '#ccc' : '#28a745', color: !selectedDate || !checkOut || !isAvailable ? '#666' : '#fff', border: '100px', borderRadius: '50px', cursor: !selectedDate || !checkOut || !isAvailable ? 'not-allowed' : 'pointer', fontSize: '16px' }}>\r\n                    Reservar\r\n                </button>\r\n            </div>\r\n            \r\n            {showForm && (\r\n                <form onSubmit={(e) => e.preventDefault()} style={{ marginTop: '20px', textAlign: 'left', maxWidth: '600px', margin: '20px auto', padding: '20px', backgroundColor: '#f9f9f9', borderRadius: '8px', boxShadow: '0 2px 4px rgba(0, 0, 0, 0.1)' }}>\r\n                    <h3>Formulario de Reserva</h3>\r\n                    <label>Nombre completo:</label>\r\n                    <input type=\"text\" name=\"clientName1\" value={formData.clientName1} onChange={handleInputChange} required style={{ width: '100%', marginBottom: '10px' }}/>\r\n                    {selectedOption === 2 && (\r\n                        <>\r\n                            <label>Nombre completo (Persona 2):</label>\r\n                            <input type=\"text\" name=\"clientName2\" value={formData.clientName2} onChange={handleInputChange} required style={{ width: '100%', marginBottom: '10px' }}/>\r\n                        </>\r\n                    )}\r\n                    <label>RUT o número de pasaporte:</label>\r\n                    <input type=\"text\" name=\"rutOrPassport\" value={formData.rutOrPassport} onChange={handleInputChange} required style={{ width: '100%', marginBottom: '10px' }}/>\r\n                    <label>Correo electrónico (opcional):</label>\r\n                    <input type=\"email\" name=\"clientEmail\" value={formData.clientEmail} onChange={handleInputChange} style={{ width: '100%', marginBottom: '10px' }}/>\r\n                    <label>Teléfono:</label>\r\n                    <input type=\"text\" name=\"phone\" value={formData.phone} onChange={handleInputChange} required style={{ width: '100%', marginBottom: '10px' }}/>\r\n                    <label>Nacionalidad:</label>\r\n                    <input type=\"text\" name=\"nationality\" value={formData.nationality} onChange={handleInputChange} required style={{ width: '100%', marginBottom: '10px' }}/>\r\n                    <label>Dirección:</label>\r\n                    <input type=\"text\" name=\"address\" value={formData.address} onChange={handleInputChange} required style={{ width: '100%', marginBottom: '10px' }}/>\r\n                    <p>Cantidad de noches: <strong>{calculateNights()}</strong></p>\r\n                    <p>Precio total: <strong>{calculateTotalPrice()} CLP</strong></p>\r\n                    \r\n                    {/* === SECCIÓN DE PAGO MODIFICADA === */}\r\n                    <div>\r\n                        <h3>Total a pagar: {calculateTotalPrice()} CLP ($ {calculateTotalPriceInUSD()} USD)</h3>\r\n                        <div className=\"payment-section\">\r\n                            <h4 style={{textAlign: 'center'}}>Opción 1: Pagar ahora con PayPal o Tarjeta</h4>\r\n                            <PayPalButtons\r\n                                key={paypalKey}\r\n                                createOrder={(data, actions) => {\r\n                                    if (!formData.clientName1 || !formData.rutOrPassport) {\r\n                                        alert(\"Por favor, completa el formulario antes de pagar.\");\r\n                                        return Promise.reject(new Error(\"Formulario incompleto\"));\r\n                                    }\r\n                                    return actions.order.create({ purchase_units: [{ amount: { value: calculateTotalPriceInUSD() } }] });\r\n                                }}\r\n                                onApprove={(data, actions) => {\r\n                                    return actions.order.capture().then((details) => {\r\n                                        handleConfirmReservation({ method: 'PayPal', status: 'pagado', transactionId: details.id });\r\n                                    });\r\n                                }}\r\n                                onError={(err) => {\r\n                                    alert('Hubo un error con el pago. Por favor, intenta de nuevo.');\r\n                                    console.error(\"PayPal Error:\", err);\r\n                                }}\r\n                            />\r\n                            <h4 style={{textAlign: 'center', margin: '20px 0'}}>o</h4>\r\n                            <h4>Opción 2: Reservar ahora y pagar en el hostal</h4>\r\n                            <button\r\n                                onClick={() => handleConfirmReservation()}\r\n                                style={{ width: '100%', backgroundColor: '#007BFF', color: '#fff', border: 'none', padding: '10px 20px', borderRadius: '5px', cursor: 'pointer', fontSize: '16px' }}\r\n                            >\r\n                                Confirmar y Pagar al Llegar\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            )}\r\n\r\n            <Lightbox\r\n                open={isLightboxOpen}\r\n                close={() => setLightboxOpen(false)}\r\n                slides={lightboxSlides}\r\n                index={currentImageIndex}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\n// No se necesita el Wrapper, ya que el Provider está en tu archivo App.js\r\nexport default RoomDetails;"],"mappings":"uIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,QAAQ,KAAM,gBAAgB,CACrC,OAASC,aAAa,CAAEC,oBAAoB,KAAQ,yBAAyB,CAC7E,OAASC,QAAQ,KAAQ,2BAA2B,CACpD,MAAO,CAAAC,QAAQ,KAAM,4BAA4B,CACjD,MAAO,uCAAuC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE/C,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACtB;AACA,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGnB,QAAQ,CAACoB,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC,CACtD,KAAM,CAACC,cAAc,CAAEC,eAAe,CAAC,CAAGvB,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAACwB,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGzB,QAAQ,CAAC,CAAC,CAAC,CAC7D,KAAM,CAAE0B,EAAG,CAAC,CAAGvB,SAAS,CAAC,CAAC,CAC1B,KAAM,CAAAwB,QAAQ,CAAGvB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAwB,IAAI,CAAGvB,KAAK,CAACwB,IAAI,CAAED,IAAI,EAAKA,IAAI,CAACF,EAAE,GAAKI,QAAQ,CAACJ,EAAE,CAAC,CAAC,CAE3D,KAAM,CAACK,YAAY,CAAEC,eAAe,CAAC,CAAGhC,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAACiC,QAAQ,CAAEC,WAAW,CAAC,CAAGlC,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACmC,WAAW,CAAEC,cAAc,CAAC,CAAGpC,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACqC,cAAc,CAAEC,iBAAiB,CAAC,CAAGtC,QAAQ,CAAC,CAAC,CAAC,CACvD,KAAM,CAACuC,QAAQ,CAAEC,WAAW,CAAC,CAAGxC,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACyC,KAAK,CAAEC,QAAQ,CAAC,CAAG1C,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAC2C,mBAAmB,CAAEC,sBAAsB,CAAC,CAAG5C,QAAQ,CAAC,KAAK,CAAC,CACrE,KAAM,CAAC6C,oBAAoB,CAAEC,uBAAuB,CAAC,CAAG9C,QAAQ,CAAC,KAAK,CAAC,CAEvE,KAAM,CAAA+C,UAAU,CAAG7C,MAAM,CAAC,IAAI,CAAC,CAC/B,KAAM,CAAA8C,WAAW,CAAG9C,MAAM,CAAC,IAAI,CAAC,CAEhC,KAAM,CAAC+C,QAAQ,CAAEC,WAAW,CAAC,CAAGlD,QAAQ,CAAC,CACrCmD,WAAW,CAAE,EAAE,CACfC,WAAW,CAAE,EAAE,CACfC,WAAW,CAAE,EAAE,CACfC,aAAa,CAAE,EAAE,CACjBC,KAAK,CAAE,EAAE,CACTC,WAAW,CAAE,EAAE,CACfC,OAAO,CAAE,EACb,CAAC,CAAC,CAEF;AACAxD,SAAS,CAAC,IAAM,CACZ,GAAI,CAACkC,WAAW,EAAI,CAACJ,YAAY,EAAI,CAACE,QAAQ,CAAE,CAC5CO,WAAW,CAAC,KAAK,CAAC,CACtB,CACJ,CAAC,CAAE,CAACL,WAAW,CAAEJ,YAAY,CAAEE,QAAQ,CAAC,CAAC,CAEzChC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAyD,kBAAkB,CAAIC,KAAK,EAAK,CAClC,KAAM,CAAAC,gBAAgB,CAAG,CACrB,iBAAiB,CAAE,6BAA6B,CAAE,oCAAoC,CACtF,uBAAuB,CAAE,mCAAmC,CAC/D,CACD,KAAM,CAAAC,qBAAqB,CAAGD,gBAAgB,CAACE,IAAI,CAAEC,QAAQ,EAAKJ,KAAK,CAACK,MAAM,CAACC,OAAO,CAACF,QAAQ,CAAC,CAAC,CACjG,GAAI,CAACF,qBAAqB,CAAE,CACxBjB,sBAAsB,CAAC,KAAK,CAAC,CAC7BE,uBAAuB,CAAC,KAAK,CAAC,CAClC,CACJ,CAAC,CACDoB,QAAQ,CAACC,gBAAgB,CAAC,WAAW,CAAET,kBAAkB,CAAC,CAC1D,MAAO,IAAMQ,QAAQ,CAACE,mBAAmB,CAAC,WAAW,CAAEV,kBAAkB,CAAC,CAC9E,CAAC,CAAE,EAAE,CAAC,CAENzD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAoE,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAItC,YAAY,EAAIE,QAAQ,CAAE,CAC1B,GAAIF,YAAY,CAACuC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAKtC,QAAQ,CAACqC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAE,CACnF7B,QAAQ,CAAC,wDAAwD,CAAC,CAClEN,cAAc,CAAC,KAAK,CAAC,CACrB,OACJ,CACA,GAAI,KAAAoC,qBAAA,CACA,KAAM,CAAAC,MAAM,CAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,aAAa,CAC/C,2DAA2D,CAC3D,qEAAqE,CAE3E,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACL,MAAM,CAAE,CACjCM,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBC,OAAO,CAAErD,YAAY,CAACuC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACjDtC,QAAQ,CAAEA,QAAQ,CAACqC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC9Cc,MAAM,CAAEzD,IAAI,CAACF,EACjB,CAAC,CACL,CAAC,CAAC,CACF,KAAM,CAAA4D,IAAI,CAAG,KAAM,CAAAT,QAAQ,CAACU,IAAI,CAAC,CAAC,CAClC7C,QAAQ,CAAC,EAAE,CAAC,CACZN,cAAc,CAAC,GAAAoC,qBAAA,CAACc,IAAI,CAACE,gBAAgB,UAAAhB,qBAAA,WAArBA,qBAAA,CAAuBiB,QAAQ,CAAC7D,IAAI,CAACF,EAAE,CAAC,EAAC,CAC7D,CAAE,MAAOe,KAAK,CAAE,CACZiD,OAAO,CAACjD,KAAK,CAAC,oCAAoC,CAAEA,KAAK,CAAC,CAC1DL,cAAc,CAAC,KAAK,CAAC,CACzB,CACJ,CACJ,CAAC,CACDiC,iBAAiB,CAAC,CAAC,CACvB,CAAC,CAAE,CAACtC,YAAY,CAAEE,QAAQ,CAAEL,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEF,EAAE,CAAC,CAAC,CAEtC;AACA,KAAM,CAAAiE,iBAAiB,CAAIC,CAAC,EAAK,CAC7B,KAAM,CAAEC,IAAI,CAAEC,KAAM,CAAC,CAAGF,CAAC,CAAC5B,MAAM,CAChCd,WAAW,CAAE6C,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAWD,IAAI,MAAE,CAACF,IAAI,EAAGC,KAAK,EAAG,CAAC,CACvD,CAAC,CAED,KAAM,CAAAG,mBAAmB,CAAIC,IAAI,EAAK,CAClClE,eAAe,CAACkE,IAAI,CAAC,CACrBtD,sBAAsB,CAAC,KAAK,CAAC,CAC7B,GAAI,CAACX,QAAQ,EAAIiE,IAAI,CAACC,OAAO,CAAC,CAAC,EAAIlE,QAAQ,CAACkE,OAAO,CAAC,CAAC,CAAE,CACnD,KAAM,CAAAC,OAAO,CAAG,GAAI,CAAAhF,IAAI,CAAC8E,IAAI,CAAC,CAC9BE,OAAO,CAACC,OAAO,CAACH,IAAI,CAACI,OAAO,CAAC,CAAC,CAAG,CAAC,CAAC,CACnCpE,WAAW,CAACkE,OAAO,CAAC,CACxB,CACAjF,YAAY,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAkF,oBAAoB,CAAIL,IAAI,EAAK,CACnChE,WAAW,CAACgE,IAAI,CAAC,CACjBpD,uBAAuB,CAAC,KAAK,CAAC,CAC9B3B,YAAY,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAmF,YAAY,CAAG,GAAG,CACxB,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC1B,GAAI,CAAC1E,YAAY,EAAI,CAACE,QAAQ,CAAE,MAAO,EAAC,CACxC,MAAO,CAAAyE,IAAI,CAACC,IAAI,CAAC,CAAC1E,QAAQ,CAAGF,YAAY,GAAK,IAAI,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAC,CAAC,CACvE,CAAC,CACD,KAAM,CAAA6E,YAAY,CAAIC,WAAW,EAAK,CAACA,WAAW,CAAGL,YAAY,EAAEM,OAAO,CAAC,CAAC,CAAC,CAC7E,KAAM,CAAAC,mBAAmB,CAAGA,CAAA,GAAM,CAC9B,KAAM,CAAAC,MAAM,CAAGP,eAAe,CAAC,CAAC,CAChC,KAAM,CAAAQ,aAAa,CAAG5E,cAAc,GAAK,CAAC,CAAGT,IAAI,CAACsF,WAAW,CAAGtF,IAAI,CAACuF,WAAW,CAChF,MAAO,CAAAH,MAAM,CAAGC,aAAa,CACjC,CAAC,CACD,KAAM,CAAAG,wBAAwB,CAAGA,CAAA,GAAMR,YAAY,CAACG,mBAAmB,CAAC,CAAC,CAAC,CAE1E;AACA,KAAM,CAAAM,wBAAwB,CAAG,cAAAA,CAAA,CAA4B,IAArB,CAAAC,WAAW,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CACpD,GAAI,CAACtE,QAAQ,CAACE,WAAW,EAAI,CAACF,QAAQ,CAACK,aAAa,CAAE,CAClDoE,KAAK,CAAC,yDAAyD,CAAC,CAChE,OACJ,CACA,KAAM,CAAAC,eAAe,CAAG,CACpBtC,MAAM,CAAEzD,IAAI,CAACF,EAAE,CACfkG,UAAU,CAAE3E,QAAQ,CAACE,WAAW,CAChCC,WAAW,CAAEf,cAAc,GAAK,CAAC,CAAGY,QAAQ,CAACG,WAAW,CAAGqE,SAAS,CACpEpE,WAAW,CAAEJ,QAAQ,CAACI,WAAW,EAAIoE,SAAS,CAC9CI,cAAc,CAAExF,cAAc,CAC9B+C,OAAO,CAAErD,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAEuC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAClDtC,QAAQ,CAAEA,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEqC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAC/CyC,MAAM,CAAEP,eAAe,CAAC,CAAC,CACzBnD,aAAa,CAAEL,QAAQ,CAACK,aAAa,CACrCC,KAAK,CAAEN,QAAQ,CAACM,KAAK,CACrBC,WAAW,CAAEP,QAAQ,CAACO,WAAW,CACjCC,OAAO,CAAER,QAAQ,CAACQ,OAAO,CACzBqE,SAAS,CAAEf,mBAAmB,CAAC,CAAC,CAChCgB,aAAa,CAAET,WAAW,CAACvC,MAAM,EAAI,WAAW,CAChDiD,aAAa,CAAEV,WAAW,CAACW,MAAM,EAAI,WAAW,CAChDC,aAAa,CAAEZ,WAAW,CAACY,aAAa,EAAI,KAChD,CAAC,CACD,GAAI,CACA,KAAM,CAAAzD,MAAM,CAAGC,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,aAAa,CAC/C,wCAAwC,CACxC,kDAAkD,CAExD,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACL,MAAM,CAAE,CACjCM,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACwC,eAAe,CACxC,CAAC,CAAC,CACF,GAAI9C,QAAQ,CAACsD,EAAE,CAAE,CACbxG,QAAQ,CAAC,UAAU,CAAE,CAAEyG,KAAK,CAAE,CAAEC,WAAW,CAAEV,eAAgB,CAAE,CAAC,CAAC,CACrE,CAAC,IAAM,CACH,KAAM,CAAAW,MAAM,CAAG,KAAM,CAAAzD,QAAQ,CAACU,IAAI,CAAC,CAAC,CACpCmC,KAAK,kCAAAa,MAAA,CAAkCD,MAAM,CAACE,OAAO,CAAE,CAAC,CAC5D,CACJ,CAAE,MAAO/F,KAAK,CAAE,CACZiD,OAAO,CAACjD,KAAK,CAAC,oCAAoC,CAAEA,KAAK,CAAC,CAC1DiF,KAAK,CAAC,4CAA4C,CAAC,CACvD,CACJ,CAAC,CAED,KAAM,CAAAe,UAAU,CAAI7G,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAE8G,MAAM,EAAIC,KAAK,CAACC,OAAO,CAAChH,IAAI,CAAC8G,MAAM,CAAC,EAAI9G,IAAI,CAAC8G,MAAM,CAAClB,MAAM,CAAG,CAAC,CAClF5F,IAAI,CAAC8G,MAAM,CACX,CAAC9G,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEiH,KAAK,CAAC,CAEnB,KAAM,CAAAC,cAAc,CAAGL,UAAU,CAACM,GAAG,CAACC,MAAM,GAAK,CAAEC,GAAG,CAAED,MAAO,CAAC,CAAC,CAAC,CAElE,GAAI,CAACpH,IAAI,CAAE,CACP,mBAAOhB,IAAA,QAAAsI,QAAA,CAAK,6BAAwB,CAAK,CAAC,CAC9C,CAEA,mBACIpI,KAAA,QAAKqI,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,SAAS,CAAE,QAAQ,CAAEC,QAAQ,CAAE,MAAQ,CAAE,CAAAJ,QAAA,eAEpEtI,IAAA,OAAIuI,KAAK,CAAE,CAAEI,OAAO,CAAE,cAAc,CAAEH,OAAO,CAAE,WAAW,CAAEE,QAAQ,CAAE,MAAM,CAAEE,UAAU,CAAE,MAAM,CAAEC,KAAK,CAAE,OAAO,CAAEC,eAAe,CAAE,SAAS,CAAEC,MAAM,CAAE,6BAA6B,CAAEC,YAAY,CAAE,MAAM,CAAEP,SAAS,CAAE,QAAQ,CAAEQ,MAAM,CAAE,SAAU,CAAE,CAAAX,QAAA,CAC/OtH,IAAI,CAACkI,IAAI,CACV,CAAC,cACLhJ,KAAA,MAAAoI,QAAA,eAAGtI,IAAA,WAAAsI,QAAA,CAAQ,KAAG,CAAQ,CAAC,IAAC,CAACtH,IAAI,CAACF,EAAE,EAAI,CAAC,cACrCZ,KAAA,QAAKqI,KAAK,CAAE,CAAEY,SAAS,CAAE,MAAM,CAAET,QAAQ,CAAE,MAAQ,CAAE,CAAAJ,QAAA,eACjDtI,IAAA,OAAAsI,QAAA,CAAI,uBAAqB,CAAI,CAAC,cAC9BtI,IAAA,QAAKuI,KAAK,CAAE,CAAEa,YAAY,CAAE,MAAQ,CAAE,CAAAd,QAAA,cAClCpI,KAAA,QAAKmJ,GAAG,CAAElH,UAAW,CAACoG,KAAK,CAAE,CAAEQ,MAAM,CAAE,gBAAgB,CAAEP,OAAO,CAAE,MAAM,CAAEQ,YAAY,CAAE,MAAM,CAAEC,MAAM,CAAE,SAAS,CAAEH,eAAe,CAAE,SAAS,CAAEQ,QAAQ,CAAE,UAAW,CAAE,CAACC,OAAO,CAAEA,CAAA,GAAMvH,sBAAsB,CAAEmD,IAAI,EAAK,CAACA,IAAI,CAAE,CAAAmD,QAAA,EACzNnH,YAAY,CAAGA,YAAY,CAACqI,kBAAkB,CAAC,OAAO,CAAC,CAAG,6BAA6B,CACvFzH,mBAAmB,eAAK/B,IAAA,QAAKyJ,SAAS,CAAC,gBAAgB,CAAClB,KAAK,CAAE,CAAEe,QAAQ,CAAE,UAAU,CAAEI,MAAM,CAAE,EAAG,CAAE,CAACH,OAAO,CAAGvE,CAAC,EAAKA,CAAC,CAAC2E,eAAe,CAAC,CAAE,CAAArB,QAAA,cAClItI,IAAA,CAACN,QAAQ,EAACkK,UAAU,CAAGtE,IAAI,EAAK,CAAED,mBAAmB,CAACC,IAAI,CAAC,CAAEtD,sBAAsB,CAAC,KAAK,CAAC,CAAE,CAAE,CAACkD,KAAK,CAAE/D,YAAa,CAAC0I,MAAM,CAAC,OAAO,CAACC,OAAO,CAAE,GAAI,CAAAtJ,IAAI,CAAC,CAAE,CAAE,CAAC,CACzJ,CAAE,EACV,CAAC,CACL,CAAC,cACNR,IAAA,QAAKuI,KAAK,CAAE,CAAEa,YAAY,CAAE,MAAO,CAAE,CAAAd,QAAA,cACjCpI,KAAA,QAAKmJ,GAAG,CAAEjH,WAAY,CAACmG,KAAK,CAAE,CAAEQ,MAAM,CAAE,gBAAgB,CAAEP,OAAO,CAAE,MAAM,CAAEQ,YAAY,CAAE,MAAM,CAAEC,MAAM,CAAE,SAAS,CAAEH,eAAe,CAAE,SAAS,CAAEQ,QAAQ,CAAE,UAAW,CAAE,CAACC,OAAO,CAAEA,CAAA,GAAMrH,uBAAuB,CAAEiD,IAAI,EAAK,CAACA,IAAI,CAAE,CAAAmD,QAAA,EAC3NjH,QAAQ,CAAGA,QAAQ,CAACmI,kBAAkB,CAAC,OAAO,CAAC,CAAG,4BAA4B,CAC9EvH,oBAAoB,eAAKjC,IAAA,QAAKyJ,SAAS,CAAC,gBAAgB,CAAClB,KAAK,CAAE,CAAEe,QAAQ,CAAE,UAAU,CAAEI,MAAM,CAAE,EAAG,CAAE,CAACH,OAAO,CAAGvE,CAAC,EAAKA,CAAC,CAAC2E,eAAe,CAAC,CAAE,CAAArB,QAAA,cACnItI,IAAA,CAACN,QAAQ,EAACkK,UAAU,CAAGtE,IAAI,EAAK,CAAEK,oBAAoB,CAACL,IAAI,CAAC,CAAEpD,uBAAuB,CAAC,KAAK,CAAC,CAAE,CAAE,CAACgD,KAAK,CAAE7D,QAAS,CAACwI,MAAM,CAAC,OAAO,CAACC,OAAO,CAAE3I,YAAY,CAAG,GAAI,CAAAX,IAAI,CAACW,YAAY,CAACoE,OAAO,CAAC,CAAC,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAG,IAAI,CAAC,CAAG,GAAI,CAAA/E,IAAI,CAAC,CAAE,CAAE,CAAC,CAC/N,CAAE,EACV,CAAC,CACL,CAAC,CACLqB,KAAK,eAAI7B,IAAA,MAAGuI,KAAK,CAAE,CAAEM,KAAK,CAAE,KAAK,CAAED,UAAU,CAAE,MAAO,CAAE,CAAAN,QAAA,CAAEzG,KAAK,CAAI,CAAC,CACpEV,YAAY,EAAIE,QAAQ,EAAI,CAACQ,KAAK,eAAK7B,IAAA,MAAGuI,KAAK,CAAE,CAAEY,SAAS,CAAE,MAAM,CAAET,QAAQ,CAAE,MAAM,CAAEE,UAAU,CAAE,MAAM,CAAEC,KAAK,CAAEtH,WAAW,CAAG,SAAS,CAAG,SAAS,CAAEkH,SAAS,CAAE,QAAS,CAAE,CAAAH,QAAA,CACtK/G,WAAW,CAAG,cAAc,CAAG,eAAe,CAChD,CAAE,EACR,CAAC,cACNrB,KAAA,QAAKqI,KAAK,CAAE,CAAEI,OAAO,CAAE,MAAM,CAAEoB,cAAc,CAAE,QAAQ,CAAEC,UAAU,CAAE,QAAQ,CAAEC,GAAG,CAAE,MAAM,CAAEb,YAAY,CAAE,MAAM,CAAEX,SAAS,CAAE,QAAS,CAAE,CAAAH,QAAA,eACpIpI,KAAA,QAAKqI,KAAK,CAAE,CAAE2B,IAAI,CAAE,CAAC,CAAEzB,SAAS,CAAE,QAAS,CAAE,CAAAH,QAAA,eACzCtI,IAAA,MAAGuI,KAAK,CAAE,CAAE4B,MAAM,CAAE,CAAC,CAAEzB,QAAQ,CAAE,OAAO,CAAEE,UAAU,CAAE,MAAO,CAAE,CAAAN,QAAA,CAAC,kBAAgB,CAAG,CAAC,cACpFtI,IAAA,MAAGuI,KAAK,CAAE,CAAE4B,MAAM,CAAE,CAAC,CAAEzB,QAAQ,CAAE,OAAQ,CAAE,CAAAJ,QAAA,CAAE7G,cAAc,GAAK,CAAC,IAAAkG,MAAA,CAAM3G,IAAI,CAACsF,WAAW,YAAAqB,MAAA,CAAY3G,IAAI,CAACuF,WAAW,QAAM,CAAI,CAAC,cAC9HrG,KAAA,MAAGqI,KAAK,CAAE,CAAE4B,MAAM,CAAE,CAAC,CAAEzB,QAAQ,CAAE,OAAQ,CAAE,CAAAJ,QAAA,EAAC,KAAG,CAAC7G,cAAc,GAAK,CAAC,CAAGuE,YAAY,CAAChF,IAAI,CAACsF,WAAW,CAAC,CAAGN,YAAY,CAAChF,IAAI,CAACuF,WAAW,CAAC,CAAC,OAAK,EAAG,CAAC,EAC/I,CAAC,cACNvG,IAAA,QAAKuI,KAAK,CAAE,CAAE2B,IAAI,CAAE,CAAC,CAAEE,QAAQ,CAAE,OAAO,CAAED,MAAM,CAAE,QAAS,CAAE,CAAA7B,QAAA,cACzDtI,IAAA,CAACH,QAAQ,EAACwK,UAAU,CAAE,KAAM,CAACC,YAAY,CAAE,IAAK,CAACC,QAAQ,CAAE,IAAK,CAACC,QAAQ,CAAE,IAAK,CAACC,UAAU,CAAE,KAAM,CAACC,WAAW,CAAGC,KAAK,EAAK,CAAE9J,oBAAoB,CAAC8J,KAAK,CAAC,CAAEhK,eAAe,CAAC,IAAI,CAAC,CAAE,CAAE,CAAA2H,QAAA,CAC/KT,UAAU,CAACM,GAAG,CAAC,CAACC,MAAM,CAAEuC,KAAK,gBAAM3K,IAAA,QAAiBuI,KAAK,CAAE,CAAEU,MAAM,CAAE,SAAU,CAAE,CAAAX,QAAA,cAC1EtI,IAAA,QAAKqI,GAAG,CAAED,MAAO,CAACwC,GAAG,IAAAjD,MAAA,CAAK3G,IAAI,CAACkI,IAAI,eAAAvB,MAAA,CAAagD,KAAK,CAAG,CAAC,CAAG,CAACpC,KAAK,CAAE,CAAES,YAAY,CAAE,KAAM,CAAE,CAAE,CAAC,EADzD2B,KAErC,CAAE,CAAC,CACN,CAAC,CACV,CAAC,cACN3K,IAAA,QAAKuI,KAAK,CAAE,CAAE2B,IAAI,CAAE,CAAC,CAAEzB,SAAS,CAAE,MAAM,CAAEoC,SAAS,CAAE,MAAO,CAAE,CAAAvC,QAAA,CACzDnH,YAAY,EAAIE,QAAQ,eAAKnB,KAAA,QAAAoI,QAAA,eACtBpI,KAAA,MAAGqI,KAAK,CAAE,CAAE4B,MAAM,CAAE,CAAC,CAAEvB,UAAU,CAAE,MAAO,CAAE,CAAAN,QAAA,EAAC,UAAQ,CAACzC,eAAe,CAAC,CAAC,EAAI,CAAC,cAC5E3F,KAAA,MAAGqI,KAAK,CAAE,CAAE4B,MAAM,CAAE,CAAC,CAAEvB,UAAU,CAAE,MAAO,CAAE,CAAAN,QAAA,EAAC,SAAO,CAACnC,mBAAmB,CAAC,CAAC,CAAC,MAAI,EAAG,CAAC,cACnFjG,KAAA,MAAGqI,KAAK,CAAE,CAAE4B,MAAM,CAAE,CAAC,CAAEzB,QAAQ,CAAE,OAAQ,CAAE,CAAAJ,QAAA,EAAC,KAAG,CAAC9B,wBAAwB,CAAC,CAAC,CAAC,OAAK,EAAG,CAAC,EACnF,CAAE,CACV,CAAC,EACL,CAAC,cACNtG,KAAA,UAAAoI,QAAA,EAAO,YACH,cAAApI,KAAA,WAAQgF,KAAK,CAAEzD,cAAe,CAACqJ,QAAQ,CAAG9F,CAAC,EAAK,CAAEtD,iBAAiB,CAACR,QAAQ,CAAC8D,CAAC,CAAC5B,MAAM,CAAC8B,KAAK,CAAC,CAAC,CAAE3E,YAAY,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC,CAAE,CAAE,CAAC8H,KAAK,CAAE,CAAEwC,UAAU,CAAE,MAAM,CAAEvC,OAAO,CAAE,KAAK,CAAEE,QAAQ,CAAE,MAAM,CAAEM,YAAY,CAAE,MAAM,CAAED,MAAM,CAAE,gBAAkB,CAAE,CAAAT,QAAA,eACzOtI,IAAA,WAAQkF,KAAK,CAAE,CAAE,CAAAoD,QAAA,CAAC,WAAS,CAAQ,CAAC,CACnCtH,IAAI,CAACuF,WAAW,eAAIvG,IAAA,WAAQkF,KAAK,CAAE,CAAE,CAAAoD,QAAA,CAAC,YAAU,CAAQ,CAAC,EACtD,CAAC,EACN,CAAC,cACRpI,KAAA,QAAKqI,KAAK,CAAE,CAAEa,YAAY,CAAE,MAAO,CAAE,CAAAd,QAAA,eACjCtI,IAAA,WAAQuJ,OAAO,CAAEA,CAAA,GAAMxI,QAAQ,CAAC,CAAC,CAAC,CAAE,CAACwH,KAAK,CAAE,CAAEC,OAAO,CAAE,aAAa,CAAEM,eAAe,CAAE,SAAS,CAAED,KAAK,CAAE,MAAM,CAAEE,MAAM,CAAE,MAAM,CAAEC,YAAY,CAAE,MAAM,CAAEC,MAAM,CAAE,SAAS,CAAEP,QAAQ,CAAE,MAAM,CAAEsC,WAAW,CAAE,MAAO,CAAE,CAAA1C,QAAA,CAAC,QAEnN,CAAQ,CAAC,cACTtI,IAAA,WAAQiL,QAAQ,CAAE,CAAC9J,YAAY,EAAI,CAACE,QAAQ,EAAI,CAACE,WAAY,CAACgI,OAAO,CAAEA,CAAA,GAAM3H,WAAW,CAAC,IAAI,CAAE,CAAC2G,KAAK,CAAE,CAAEC,OAAO,CAAE,WAAW,CAAEM,eAAe,CAAE,CAAC3H,YAAY,EAAI,CAACE,QAAQ,EAAI,CAACE,WAAW,CAAG,MAAM,CAAG,SAAS,CAAEsH,KAAK,CAAE,CAAC1H,YAAY,EAAI,CAACE,QAAQ,EAAI,CAACE,WAAW,CAAG,MAAM,CAAG,MAAM,CAAEwH,MAAM,CAAE,OAAO,CAAEC,YAAY,CAAE,MAAM,CAAEC,MAAM,CAAE,CAAC9H,YAAY,EAAI,CAACE,QAAQ,EAAI,CAACE,WAAW,CAAG,aAAa,CAAG,SAAS,CAAEmH,QAAQ,CAAE,MAAO,CAAE,CAAAJ,QAAA,CAAC,UAEja,CAAQ,CAAC,EACR,CAAC,CAEL3G,QAAQ,eACLzB,KAAA,SAAMgL,QAAQ,CAAGlG,CAAC,EAAKA,CAAC,CAACmG,cAAc,CAAC,CAAE,CAAC5C,KAAK,CAAE,CAAEY,SAAS,CAAE,MAAM,CAAEV,SAAS,CAAE,MAAM,CAAE2B,QAAQ,CAAE,OAAO,CAAED,MAAM,CAAE,WAAW,CAAE3B,OAAO,CAAE,MAAM,CAAEM,eAAe,CAAE,SAAS,CAAEE,YAAY,CAAE,KAAK,CAAEoC,SAAS,CAAE,8BAA+B,CAAE,CAAA9C,QAAA,eAC5OtI,IAAA,OAAAsI,QAAA,CAAI,uBAAqB,CAAI,CAAC,cAC9BtI,IAAA,UAAAsI,QAAA,CAAO,kBAAgB,CAAO,CAAC,cAC/BtI,IAAA,UAAOkJ,IAAI,CAAC,MAAM,CAACjE,IAAI,CAAC,aAAa,CAACC,KAAK,CAAE7C,QAAQ,CAACE,WAAY,CAACuI,QAAQ,CAAE/F,iBAAkB,CAACsG,QAAQ,MAAC9C,KAAK,CAAE,CAAE+C,KAAK,CAAE,MAAM,CAAElC,YAAY,CAAE,MAAO,CAAE,CAAC,CAAC,CACzJ3H,cAAc,GAAK,CAAC,eACjBvB,KAAA,CAAAE,SAAA,EAAAkI,QAAA,eACItI,IAAA,UAAAsI,QAAA,CAAO,8BAA4B,CAAO,CAAC,cAC3CtI,IAAA,UAAOkJ,IAAI,CAAC,MAAM,CAACjE,IAAI,CAAC,aAAa,CAACC,KAAK,CAAE7C,QAAQ,CAACG,WAAY,CAACsI,QAAQ,CAAE/F,iBAAkB,CAACsG,QAAQ,MAAC9C,KAAK,CAAE,CAAE+C,KAAK,CAAE,MAAM,CAAElC,YAAY,CAAE,MAAO,CAAE,CAAC,CAAC,EAC5J,CACL,cACDpJ,IAAA,UAAAsI,QAAA,CAAO,+BAA0B,CAAO,CAAC,cACzCtI,IAAA,UAAOkJ,IAAI,CAAC,MAAM,CAACjE,IAAI,CAAC,eAAe,CAACC,KAAK,CAAE7C,QAAQ,CAACK,aAAc,CAACoI,QAAQ,CAAE/F,iBAAkB,CAACsG,QAAQ,MAAC9C,KAAK,CAAE,CAAE+C,KAAK,CAAE,MAAM,CAAElC,YAAY,CAAE,MAAO,CAAE,CAAC,CAAC,cAC9JpJ,IAAA,UAAAsI,QAAA,CAAO,mCAA8B,CAAO,CAAC,cAC7CtI,IAAA,UAAOkJ,IAAI,CAAC,OAAO,CAACjE,IAAI,CAAC,aAAa,CAACC,KAAK,CAAE7C,QAAQ,CAACI,WAAY,CAACqI,QAAQ,CAAE/F,iBAAkB,CAACwD,KAAK,CAAE,CAAE+C,KAAK,CAAE,MAAM,CAAElC,YAAY,CAAE,MAAO,CAAE,CAAC,CAAC,cAClJpJ,IAAA,UAAAsI,QAAA,CAAO,cAAS,CAAO,CAAC,cACxBtI,IAAA,UAAOkJ,IAAI,CAAC,MAAM,CAACjE,IAAI,CAAC,OAAO,CAACC,KAAK,CAAE7C,QAAQ,CAACM,KAAM,CAACmI,QAAQ,CAAE/F,iBAAkB,CAACsG,QAAQ,MAAC9C,KAAK,CAAE,CAAE+C,KAAK,CAAE,MAAM,CAAElC,YAAY,CAAE,MAAO,CAAE,CAAC,CAAC,cAC9IpJ,IAAA,UAAAsI,QAAA,CAAO,eAAa,CAAO,CAAC,cAC5BtI,IAAA,UAAOkJ,IAAI,CAAC,MAAM,CAACjE,IAAI,CAAC,aAAa,CAACC,KAAK,CAAE7C,QAAQ,CAACO,WAAY,CAACkI,QAAQ,CAAE/F,iBAAkB,CAACsG,QAAQ,MAAC9C,KAAK,CAAE,CAAE+C,KAAK,CAAE,MAAM,CAAElC,YAAY,CAAE,MAAO,CAAE,CAAC,CAAC,cAC1JpJ,IAAA,UAAAsI,QAAA,CAAO,eAAU,CAAO,CAAC,cACzBtI,IAAA,UAAOkJ,IAAI,CAAC,MAAM,CAACjE,IAAI,CAAC,SAAS,CAACC,KAAK,CAAE7C,QAAQ,CAACQ,OAAQ,CAACiI,QAAQ,CAAE/F,iBAAkB,CAACsG,QAAQ,MAAC9C,KAAK,CAAE,CAAE+C,KAAK,CAAE,MAAM,CAAElC,YAAY,CAAE,MAAO,CAAE,CAAC,CAAC,cAClJlJ,KAAA,MAAAoI,QAAA,EAAG,sBAAoB,cAAAtI,IAAA,WAAAsI,QAAA,CAASzC,eAAe,CAAC,CAAC,CAAS,CAAC,EAAG,CAAC,cAC/D3F,KAAA,MAAAoI,QAAA,EAAG,gBAAc,cAAApI,KAAA,WAAAoI,QAAA,EAASnC,mBAAmB,CAAC,CAAC,CAAC,MAAI,EAAQ,CAAC,EAAG,CAAC,cAGjEjG,KAAA,QAAAoI,QAAA,eACIpI,KAAA,OAAAoI,QAAA,EAAI,iBAAe,CAACnC,mBAAmB,CAAC,CAAC,CAAC,UAAQ,CAACK,wBAAwB,CAAC,CAAC,CAAC,OAAK,EAAI,CAAC,cACxFtG,KAAA,QAAKuJ,SAAS,CAAC,iBAAiB,CAAAnB,QAAA,eAC5BtI,IAAA,OAAIuI,KAAK,CAAE,CAACE,SAAS,CAAE,QAAQ,CAAE,CAAAH,QAAA,CAAC,+CAA0C,CAAI,CAAC,cACjFtI,IAAA,CAACL,aAAa,EAEV4L,WAAW,CAAEA,CAAC7G,IAAI,CAAE8G,OAAO,GAAK,CAC5B,GAAI,CAACnJ,QAAQ,CAACE,WAAW,EAAI,CAACF,QAAQ,CAACK,aAAa,CAAE,CAClDoE,KAAK,CAAC,mDAAmD,CAAC,CAC1D,MAAO,CAAA2E,OAAO,CAACC,MAAM,CAAC,GAAI,CAAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC,CAC7D,CACA,MAAO,CAAAH,OAAO,CAACI,KAAK,CAACC,MAAM,CAAC,CAAEC,cAAc,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAE7G,KAAK,CAAEsB,wBAAwB,CAAC,CAAE,CAAE,CAAC,CAAE,CAAC,CAAC,CACxG,CAAE,CACFwF,SAAS,CAAEA,CAACtH,IAAI,CAAE8G,OAAO,GAAK,CAC1B,MAAO,CAAAA,OAAO,CAACI,KAAK,CAACK,OAAO,CAAC,CAAC,CAACC,IAAI,CAAEC,OAAO,EAAK,CAC7C1F,wBAAwB,CAAC,CAAEtC,MAAM,CAAE,QAAQ,CAAEkD,MAAM,CAAE,QAAQ,CAAEC,aAAa,CAAE6E,OAAO,CAACrL,EAAG,CAAC,CAAC,CAC/F,CAAC,CAAC,CACN,CAAE,CACFsL,OAAO,CAAGC,GAAG,EAAK,CACdvF,KAAK,CAAC,yDAAyD,CAAC,CAChEhC,OAAO,CAACjD,KAAK,CAAC,eAAe,CAAEwK,GAAG,CAAC,CACvC,CAAE,EAhBG/L,SAiBR,CAAC,cACFN,IAAA,OAAIuI,KAAK,CAAE,CAACE,SAAS,CAAE,QAAQ,CAAE0B,MAAM,CAAE,QAAQ,CAAE,CAAA7B,QAAA,CAAC,GAAC,CAAI,CAAC,cAC1DtI,IAAA,OAAAsI,QAAA,CAAI,kDAA6C,CAAI,CAAC,cACtDtI,IAAA,WACIuJ,OAAO,CAAEA,CAAA,GAAM9C,wBAAwB,CAAC,CAAE,CAC1C8B,KAAK,CAAE,CAAE+C,KAAK,CAAE,MAAM,CAAExC,eAAe,CAAE,SAAS,CAAED,KAAK,CAAE,MAAM,CAAEE,MAAM,CAAE,MAAM,CAAEP,OAAO,CAAE,WAAW,CAAEQ,YAAY,CAAE,KAAK,CAAEC,MAAM,CAAE,SAAS,CAAEP,QAAQ,CAAE,MAAO,CAAE,CAAAJ,QAAA,CACvK,6BAED,CAAQ,CAAC,EACR,CAAC,EACL,CAAC,EACJ,CACT,cAEDtI,IAAA,CAACF,QAAQ,EACLwM,IAAI,CAAE5L,cAAe,CACrB6L,KAAK,CAAEA,CAAA,GAAM5L,eAAe,CAAC,KAAK,CAAE,CACpC6L,MAAM,CAAEtE,cAAe,CACvByC,KAAK,CAAE/J,iBAAkB,CAC5B,CAAC,EACD,CAAC,CAEd,CAAC,CAED;AACA,cAAe,CAAAP,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}