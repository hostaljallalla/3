{"ast":null,"code":"import _objectSpread from\"C:/Users/Jonathan/Desktop/Proyecto Hostal/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{useParams,useNavigate}from'react-router-dom';import rooms from'../data/rooms';import Calendar from'react-calendar';import PaypalButton from'../PaypalButton';import{Carousel}from'react-responsive-carousel';import Lightbox from\"yet-another-react-lightbox\";import\"yet-another-react-lightbox/styles.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const RoomDetails=()=>{// --- Tu lógica y estados originales (SIN CAMBIOS) ---\nconst[paypalKey,setPaypalKey]=useState(0);const[isLightboxOpen,setLightboxOpen]=useState(false);const[currentImageIndex,setCurrentImageIndex]=useState(0);const refreshPaypalButton=()=>setPaypalKey(prevKey=>prevKey+1);const confirmReservationRef=useRef(null);const{id}=useParams();const navigate=useNavigate();const room=rooms.find(room=>room.id===parseInt(id));const[selectedDate,setSelectedDate]=useState(null);const[checkOut,setCheckOut]=useState(null);const[isAvailable,setIsAvailable]=useState(false);const[selectedOption,setSelectedOption]=useState(1);const[showForm,setShowForm]=useState(false);const[error,setError]=useState('');const[showCheckInCalendar,setShowCheckInCalendar]=useState(false);const[showCheckOutCalendar,setShowCheckOutCalendar]=useState(false);const checkInRef=useRef(null);const checkOutRef=useRef(null);// --- CAMBIO NECESARIO 1: Ajuste de nombre de variable ---\nconst[formData,setFormData]=useState({clientName:'',// Antes era clientName1\nclientName2:'',clientEmail:'',rutOrPassport:'',phone:'',nationality:'',address:''});// --- Tu código original (SIN CAMBIOS) ---\nuseEffect(()=>{if(!isAvailable||!selectedDate||!checkOut){setShowForm(false);}},[isAvailable,selectedDate,checkOut]);useEffect(()=>{const handleClickOutside=event=>{const calendarElements=['.react-calendar','.react-calendar__navigation','.react-calendar__navigation__arrow','.react-calendar__tile','.react-calendar__month-view__days'];const isClickInsideCalendar=calendarElements.some(selector=>event.target.closest(selector));if(!isClickInsideCalendar){setShowCheckInCalendar(false);setShowCheckOutCalendar(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[]);useEffect(()=>{const checkAvailability=async()=>{if(selectedDate&&checkOut){if(selectedDate.toISOString().split('T')[0]===checkOut.toISOString().split('T')[0]){setError('La fecha de ingreso no puede ser igual a la de salida.');setIsAvailable(false);return;}try{var _data$unavailableRoom;const response=await fetch('https://three-2cs3.onrender.com/api/reservations/check-availability',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({checkIn:selectedDate.toISOString().split('T')[0],checkOut:checkOut.toISOString().split('T')[0],roomId:room.id})});const data=await response.json();setError('');setIsAvailable(!((_data$unavailableRoom=data.unavailableRooms)!==null&&_data$unavailableRoom!==void 0&&_data$unavailableRoom.includes(room.id)));}catch(error){console.error('Error al verificar disponibilidad:',error);setIsAvailable(false);}}};checkAvailability();},[selectedDate,checkOut,room.id]);const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleCheckInChange=date=>{setSelectedDate(date);setShowCheckInCalendar(false);if(!checkOut||date.getTime()>=checkOut.getTime()){const nextDay=new Date(date);nextDay.setDate(date.getDate()+1);setCheckOut(nextDay);}refreshPaypalButton();};const handleCheckOutChange=date=>{setCheckOut(date);setShowCheckOutCalendar(false);refreshPaypalButton();};// --- CAMBIO NECESARIO 2: Nueva función para manejar el guardado del pago de PayPal ---\nconst handlePaymentSuccess=async details=>{const{clientName,rutOrPassport,phone,nationality,address}=formData;if(!clientName||!rutOrPassport||!phone||!nationality||!address){alert('Por favor, completa todos los campos del formulario para registrar la reserva pagada.');return;}const reservationData={roomId:room.id,clientName:formData.clientName,clientName2:selectedOption===2?formData.clientName2:undefined,clientEmail:formData.clientEmail||undefined,rutOrPassport:formData.rutOrPassport,numberOfGuests:selectedOption,checkIn:selectedDate===null||selectedDate===void 0?void 0:selectedDate.toISOString().split('T')[0],checkOut:checkOut===null||checkOut===void 0?void 0:checkOut.toISOString().split('T')[0],phone:formData.phone,nationality:formData.nationality,address:formData.address,nights:calculateNights(),totalCost:calculateTotalPrice(),paymentMethod:'PayPal',paymentStatus:'pagado',transactionId:details.id};try{const response=await fetch('https://three-2cs3.onrender.com/api/reservations',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(reservationData)});if(response.ok){navigate('/success',{state:{reservation:reservationData}});}else{const result=await response.json();alert(\"El pago fue exitoso, pero hubo un error al guardar la reserva: \".concat(result.message));}}catch(error){console.error('Error al conectar con el servidor:',error);alert('El pago fue exitoso, pero hubo un error al conectar con el servidor para guardar la reserva.');}};// --- CAMBIO NECESARIO 3: Pequeña modificación en la reserva manual ---\nconst handleConfirmReservation=async e=>{e.preventDefault();const reservationData={roomId:room.id,clientName:formData.clientName,// Consistencia de nombre\nclientName2:selectedOption===2?formData.clientName2:undefined,clientEmail:formData.clientEmail||undefined,rutOrPassport:formData.rutOrPassport,numberOfGuests:selectedOption,checkIn:selectedDate===null||selectedDate===void 0?void 0:selectedDate.toISOString().split('T')[0],checkOut:checkOut===null||checkOut===void 0?void 0:checkOut.toISOString().split('T')[0],phone:formData.phone,nationality:formData.nationality,address:formData.address,nights:calculateNights(),totalCost:calculateTotalPrice(),paymentMethod:'En Hostal',paymentStatus:'pendiente'// Se añade el estado 'pendiente'\n};console.log(\"Enviando al backend:\",reservationData);try{const response=await fetch('https://three-2cs3.onrender.com/api/reservations',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(reservationData)});if(response.ok){navigate('/success',{state:{reservation:reservationData}});}else{const result=await response.json();alert(\"Error al realizar la reserva: \".concat(result.message));}}catch(error){console.error('Error al conectar con el servidor:',error);alert('Hubo un error al conectar con el servidor.');}};// --- Tu código original (SIN CAMBIOS) ---\nconst exchangeRate=900;const calculateNights=()=>{if(!selectedDate||!checkOut)return 0;return Math.ceil((checkOut-selectedDate)/(1000*60*60*24));};const convertToUSD=amountInCLP=>{return(amountInCLP/exchangeRate).toFixed(2);};const calculateTotalPrice=()=>{const nights=calculateNights();const pricePerNight=selectedOption===1?room.priceForOne:room.priceForTwo;return nights*pricePerNight;};const calculateTotalPriceInUSD=()=>{const totalInCLP=calculateTotalPrice();return convertToUSD(totalInCLP);};const roomImages=room.images&&Array.isArray(room.images)&&room.images.length>0?room.images:[room.image];const lightboxSlides=roomImages.map(imgSrc=>({src:imgSrc}));if(!room){return/*#__PURE__*/_jsx(\"div\",{children:\"Habitaci\\xF3n no encontrada\"});}// --- Tu JSX original (SIN BORRAR NADA) ---\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{padding:'30px',textAlign:'center',fontSize:'12px'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{display:'inline-block',padding:'10px 20px',fontSize:'15px',fontWeight:'bold',color:'white',backgroundColor:'#007bff',border:'2px solidrgb(255, 255, 255)',borderRadius:'20px',textAlign:'center',cursor:'default'},children:room.type}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID:\"}),\" \",room.id]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px',fontSize:'15px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Selecciona tus fechas\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsxs(\"div\",{ref:checkInRef,style:{border:'1px solid #ccc',padding:'10px',borderRadius:'30px',cursor:'pointer',backgroundColor:'#f9f9f9',position:'relative'},onClick:()=>setShowCheckInCalendar(prev=>!prev),children:[selectedDate?selectedDate.toLocaleDateString('es-ES'):'Selecciona fecha de ingreso',showCheckInCalendar&&/*#__PURE__*/_jsx(\"div\",{className:\"react-calendar\",style:{position:'absolute',zIndex:10},onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsx(Calendar,{onClickDay:date=>{handleCheckInChange(date);setShowCheckInCalendar(false);},value:selectedDate,locale:\"es-ES\",minDate:new Date()})})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'20px'},children:/*#__PURE__*/_jsxs(\"div\",{ref:checkOutRef,style:{border:'1px solid #ccc',padding:'10px',borderRadius:'20px',cursor:'pointer',backgroundColor:'#f9f9f9',position:'relative'},onClick:()=>setShowCheckOutCalendar(prev=>!prev),children:[checkOut?checkOut.toLocaleDateString('es-ES'):'Selecciona fecha de salida',showCheckOutCalendar&&/*#__PURE__*/_jsx(\"div\",{className:\"react-calendar\",style:{position:'absolute',zIndex:10},onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsx(Calendar,{onClickDay:date=>{handleCheckOutChange(date);setShowCheckOutCalendar(false);},value:checkOut,locale:\"es-ES\",minDate:selectedDate?new Date(selectedDate.getTime()+24*60*60*1000):new Date()})})]})}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red',fontWeight:'bold'},children:error}),selectedDate&&checkOut&&!error&&/*#__PURE__*/_jsx(\"p\",{style:{marginTop:'20px',fontSize:'18px',fontWeight:'bold',color:isAvailable?'#28a745':'#dc3545',textAlign:'center'},children:isAvailable?'¡Disponible!':'No disponible'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',gap:'30px',marginBottom:'20px',textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,textAlign:'center'},children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:'0.8em',fontWeight:'bold'},children:\"Precio por Noche\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:'0.7em'},children:selectedOption===1?\"\".concat(room.priceForOne,\" CLP\"):\"\".concat(room.priceForTwo,\" CLP\")}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,fontSize:'0.7em'},children:[\"($ \",selectedOption===1?convertToUSD(room.priceForOne):convertToUSD(room.priceForTwo),\" USD)\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,maxWidth:'250px',margin:'0 auto'},children:/*#__PURE__*/_jsx(Carousel,{showThumbs:false,infiniteLoop:true,autoPlay:true,interval:3000,showStatus:false,onClickItem:index=>{setCurrentImageIndex(index);setLightboxOpen(true);},children:roomImages.map((imgSrc,index)=>/*#__PURE__*/_jsx(\"div\",{style:{cursor:'pointer'},children:/*#__PURE__*/_jsx(\"img\",{src:imgSrc,alt:\"\".concat(room.type,\" - Imagen \").concat(index+1),style:{borderRadius:'8px'}})},index))})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,textAlign:'left',minHeight:'60px'},children:selectedDate&&checkOut&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,fontWeight:'bold'},children:[\"Noches: \",calculateNights()]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,fontWeight:'bold'},children:[\"Total: \",calculateTotalPrice(),\" CLP\"]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,fontSize:'0.8em'},children:[\"($ \",calculateTotalPriceInUSD(),\" USD)\"]})]})})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Personas:\",/*#__PURE__*/_jsxs(\"select\",{value:selectedOption,onChange:e=>{setSelectedOption(parseInt(e.target.value));refreshPaypalButton();},style:{marginLeft:'20px',padding:'7px',fontSize:'12px',borderRadius:'10px',border:'1px solid #ddd'},children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"1 Persona\"}),room.priceForTwo&&/*#__PURE__*/_jsx(\"option\",{value:2,children:\"2 Personas\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),style:{padding:'10.2px 30px',backgroundColor:'#007bff',color:'#fff',border:'none',borderRadius:'25px',cursor:'pointer',fontSize:'18px',marginRight:'20px'},children:\"Volver\"}),/*#__PURE__*/_jsx(\"button\",{disabled:!selectedDate||!checkOut||!isAvailable,onClick:()=>setShowForm(true),style:{padding:'11px 20px',backgroundColor:!selectedDate||!checkOut||!isAvailable?'#ccc':'#28a745',color:!selectedDate||!checkOut||!isAvailable?'#666':'#fff',border:'100px',borderRadius:'50px',cursor:!selectedDate||!checkOut||!isAvailable?'not-allowed':'pointer',fontSize:'16px'},children:\"Reservar\"})]}),showForm&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>e.preventDefault(),style:{marginTop:'20px',textAlign:'left',maxWidth:'600px',margin:'20px auto',padding:'20px',backgroundColor:'#f9f9f9',borderRadius:'8px',boxShadow:'0 2px 4px rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Formulario de Reserva\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Nombre completo:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"clientName\",value:formData.clientName,onChange:handleInputChange,required:true,style:{width:'100%',marginBottom:'10px'}}),selectedOption===2&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nombre completo (Persona 2):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"clientName2\",value:formData.clientName2,onChange:handleInputChange,required:true,style:{width:'100%',marginBottom:'10px'}})]}),/*#__PURE__*/_jsx(\"label\",{children:\"RUT o n\\xFAmero de pasaporte:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"rutOrPassport\",value:formData.rutOrPassport,onChange:handleInputChange,required:true,style:{width:'100%',marginBottom:'10px'}}),/*#__PURE__*/_jsx(\"label\",{children:\"Correo electr\\xF3nico (opcional):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"clientEmail\",value:formData.clientEmail,onChange:handleInputChange,style:{width:'100%',marginBottom:'10px'}}),/*#__PURE__*/_jsx(\"label\",{children:\"Tel\\xE9fono:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",value:formData.phone,onChange:handleInputChange,required:true,style:{width:'100%',marginBottom:'10px'}}),/*#__PURE__*/_jsx(\"label\",{children:\"Nacionalidad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nationality\",value:formData.nationality,onChange:handleInputChange,required:true,style:{width:'100%',marginBottom:'10px'}}),/*#__PURE__*/_jsx(\"label\",{children:\"Direcci\\xF3n:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",value:formData.address,onChange:handleInputChange,required:true,style:{width:'100%',marginBottom:'10px'}}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Cantidad de noches: \",/*#__PURE__*/_jsx(\"strong\",{children:calculateNights()})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Precio total: \",/*#__PURE__*/_jsxs(\"strong\",{children:[calculateTotalPrice(),\" CLP\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Total a pagar: \",calculateTotalPrice(),\" CLP ($ \",calculateTotalPriceInUSD(),\" USD)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-section\",children:[/*#__PURE__*/_jsx(PaypalButton,{amount:calculateTotalPriceInUSD(),onPaymentSuccess:handlePaymentSuccess,onPaymentError:error=>{alert('Hubo un error al procesar el pago. Por favor, inténtalo nuevamente.');console.error('Error en el pago:',error);},onPaymentCancel:()=>{alert('El pago fue cancelado por el usuario.');}},paypalKey),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:'20px',fontWeight:'bold'},children:\"Tambi\\xE9n puedes confirmar tu reserva sin realizar un pago en l\\xEDnea.\"}),/*#__PURE__*/_jsx(\"button\",{ref:confirmReservationRef,className:\"confirm-reservation-btn\",onClick:handleConfirmReservation,style:{marginTop:'10px',backgroundColor:'#007BFF',color:'#fff',border:'none',padding:'10px 20px',borderRadius:'5px',cursor:'pointer'},children:\"Confirmar Reserva\"})]})]})]}),/*#__PURE__*/_jsx(Lightbox,{open:isLightboxOpen,close:()=>setLightboxOpen(false),slides:lightboxSlides,index:currentImageIndex})]});};export default RoomDetails;","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","rooms","Calendar","PaypalButton","Carousel","Lightbox","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RoomDetails","paypalKey","setPaypalKey","isLightboxOpen","setLightboxOpen","currentImageIndex","setCurrentImageIndex","refreshPaypalButton","prevKey","confirmReservationRef","id","navigate","room","find","parseInt","selectedDate","setSelectedDate","checkOut","setCheckOut","isAvailable","setIsAvailable","selectedOption","setSelectedOption","showForm","setShowForm","error","setError","showCheckInCalendar","setShowCheckInCalendar","showCheckOutCalendar","setShowCheckOutCalendar","checkInRef","checkOutRef","formData","setFormData","clientName","clientName2","clientEmail","rutOrPassport","phone","nationality","address","handleClickOutside","event","calendarElements","isClickInsideCalendar","some","selector","target","closest","document","addEventListener","removeEventListener","checkAvailability","toISOString","split","_data$unavailableRoom","response","fetch","method","headers","body","JSON","stringify","checkIn","roomId","data","json","unavailableRooms","includes","console","handleInputChange","e","name","value","prev","_objectSpread","handleCheckInChange","date","getTime","nextDay","Date","setDate","getDate","handleCheckOutChange","handlePaymentSuccess","details","alert","reservationData","undefined","numberOfGuests","nights","calculateNights","totalCost","calculateTotalPrice","paymentMethod","paymentStatus","transactionId","ok","state","reservation","result","concat","message","handleConfirmReservation","preventDefault","log","exchangeRate","Math","ceil","convertToUSD","amountInCLP","toFixed","pricePerNight","priceForOne","priceForTwo","calculateTotalPriceInUSD","totalInCLP","roomImages","images","Array","isArray","length","image","lightboxSlides","map","imgSrc","src","children","style","padding","textAlign","fontSize","display","fontWeight","color","backgroundColor","border","borderRadius","cursor","type","marginTop","marginBottom","ref","position","onClick","toLocaleDateString","className","zIndex","stopPropagation","onClickDay","locale","minDate","justifyContent","alignItems","gap","flex","margin","maxWidth","showThumbs","infiniteLoop","autoPlay","interval","showStatus","onClickItem","index","alt","minHeight","onChange","marginLeft","marginRight","disabled","onSubmit","boxShadow","required","width","amount","onPaymentSuccess","onPaymentError","onPaymentCancel","open","close","slides"],"sources":["C:/Users/Jonathan/Desktop/Proyecto Hostal/frontend/src/pages/RoomDetails.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport rooms from '../data/rooms';\r\nimport Calendar from 'react-calendar';\r\nimport PaypalButton from '../PaypalButton';\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport Lightbox from \"yet-another-react-lightbox\";\r\nimport \"yet-another-react-lightbox/styles.css\";\r\n\r\nconst RoomDetails = () => {\r\n    // --- Tu lógica y estados originales (SIN CAMBIOS) ---\r\n    const [paypalKey, setPaypalKey] = useState(0);\r\n    const [isLightboxOpen, setLightboxOpen] = useState(false);\r\n    const [currentImageIndex, setCurrentImageIndex] = useState(0);\r\n    const refreshPaypalButton = () => setPaypalKey(prevKey => prevKey + 1);\r\n    const confirmReservationRef = useRef(null);\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const room = rooms.find((room) => room.id === parseInt(id));\r\n    const [selectedDate, setSelectedDate] = useState(null);\r\n    const [checkOut, setCheckOut] = useState(null);\r\n    const [isAvailable, setIsAvailable] = useState(false);\r\n    const [selectedOption, setSelectedOption] = useState(1);\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [showCheckInCalendar, setShowCheckInCalendar] = useState(false);\r\n    const [showCheckOutCalendar, setShowCheckOutCalendar] = useState(false);\r\n    const checkInRef = useRef(null);\r\n    const checkOutRef = useRef(null);\r\n\r\n    // --- CAMBIO NECESARIO 1: Ajuste de nombre de variable ---\r\n    const [formData, setFormData] = useState({\r\n        clientName: '', // Antes era clientName1\r\n        clientName2: '',\r\n        clientEmail: '',\r\n        rutOrPassport: '',\r\n        phone: '',\r\n        nationality: '',\r\n        address: '',\r\n    });\r\n\r\n    // --- Tu código original (SIN CAMBIOS) ---\r\n    useEffect(() => {\r\n        if (!isAvailable || !selectedDate || !checkOut) {\r\n            setShowForm(false);\r\n        }\r\n    }, [isAvailable, selectedDate, checkOut]);\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            const calendarElements = [ '.react-calendar', '.react-calendar__navigation', '.react-calendar__navigation__arrow', '.react-calendar__tile', '.react-calendar__month-view__days' ];\r\n            const isClickInsideCalendar = calendarElements.some((selector) => event.target.closest(selector));\r\n            if (!isClickInsideCalendar) {\r\n                setShowCheckInCalendar(false);\r\n                setShowCheckOutCalendar(false);\r\n            }\r\n        };\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => { document.removeEventListener('mousedown', handleClickOutside); };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const checkAvailability = async () => {\r\n            if (selectedDate && checkOut) {\r\n                if (selectedDate.toISOString().split('T')[0] === checkOut.toISOString().split('T')[0]) {\r\n                    setError('La fecha de ingreso no puede ser igual a la de salida.');\r\n                    setIsAvailable(false);\r\n                    return;\r\n                }\r\n                try {\r\n                    const response = await fetch('https://three-2cs3.onrender.com/api/reservations/check-availability', {\r\n                        method: 'POST',\r\n                        headers: { 'Content-Type': 'application/json' },\r\n                        body: JSON.stringify({\r\n                            checkIn: selectedDate.toISOString().split('T')[0],\r\n                            checkOut: checkOut.toISOString().split('T')[0],\r\n                            roomId: room.id,\r\n                        }),\r\n                    });\r\n                    const data = await response.json();\r\n                    setError('');\r\n                    setIsAvailable(!data.unavailableRooms?.includes(room.id));\r\n                } catch (error) {\r\n                    console.error('Error al verificar disponibilidad:', error);\r\n                    setIsAvailable(false);\r\n                }\r\n            }\r\n        };\r\n        checkAvailability();\r\n    }, [selectedDate, checkOut, room.id]);\r\n\r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData((prev) => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleCheckInChange = (date) => {\r\n        setSelectedDate(date);\r\n        setShowCheckInCalendar(false);\r\n        if (!checkOut || date.getTime() >= checkOut.getTime()) {\r\n            const nextDay = new Date(date);\r\n            nextDay.setDate(date.getDate() + 1);\r\n            setCheckOut(nextDay);\r\n        }\r\n        refreshPaypalButton();\r\n    };\r\n\r\n    const handleCheckOutChange = (date) => {\r\n        setCheckOut(date);\r\n        setShowCheckOutCalendar(false);\r\n        refreshPaypalButton();\r\n    };\r\n    \r\n    // --- CAMBIO NECESARIO 2: Nueva función para manejar el guardado del pago de PayPal ---\r\n    const handlePaymentSuccess = async (details) => {\r\n        const { clientName, rutOrPassport, phone, nationality, address } = formData;\r\n        if (!clientName || !rutOrPassport || !phone || !nationality || !address) {\r\n            alert('Por favor, completa todos los campos del formulario para registrar la reserva pagada.');\r\n            return;\r\n        }\r\n        const reservationData = {\r\n            roomId: room.id,\r\n            clientName: formData.clientName,\r\n            clientName2: selectedOption === 2 ? formData.clientName2 : undefined,\r\n            clientEmail: formData.clientEmail || undefined,\r\n            rutOrPassport: formData.rutOrPassport,\r\n            numberOfGuests: selectedOption,\r\n            checkIn: selectedDate?.toISOString().split('T')[0],\r\n            checkOut: checkOut?.toISOString().split('T')[0],\r\n            phone: formData.phone,\r\n            nationality: formData.nationality,\r\n            address: formData.address,\r\n            nights: calculateNights(),\r\n            totalCost: calculateTotalPrice(),\r\n            paymentMethod: 'PayPal',\r\n            paymentStatus: 'pagado',\r\n            transactionId: details.id,\r\n        };\r\n        try {\r\n            const response = await fetch('https://three-2cs3.onrender.com/api/reservations', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(reservationData),\r\n            });\r\n            if (response.ok) {\r\n                navigate('/success', { state: { reservation: reservationData } });\r\n            } else {\r\n                const result = await response.json();\r\n                alert(`El pago fue exitoso, pero hubo un error al guardar la reserva: ${result.message}`);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error al conectar con el servidor:', error);\r\n            alert('El pago fue exitoso, pero hubo un error al conectar con el servidor para guardar la reserva.');\r\n        }\r\n    };\r\n\r\n    // --- CAMBIO NECESARIO 3: Pequeña modificación en la reserva manual ---\r\n    const handleConfirmReservation = async (e) => {\r\n        e.preventDefault();\r\n        const reservationData = {\r\n            roomId: room.id,\r\n            clientName: formData.clientName, // Consistencia de nombre\r\n            clientName2: selectedOption === 2 ? formData.clientName2 : undefined,\r\n            clientEmail: formData.clientEmail || undefined,\r\n            rutOrPassport: formData.rutOrPassport,\r\n            numberOfGuests: selectedOption,\r\n            checkIn: selectedDate?.toISOString().split('T')[0],\r\n            checkOut: checkOut?.toISOString().split('T')[0],\r\n            phone: formData.phone,\r\n            nationality: formData.nationality,\r\n            address: formData.address,\r\n            nights: calculateNights(),\r\n            totalCost: calculateTotalPrice(),\r\n            paymentMethod: 'En Hostal',\r\n            paymentStatus: 'pendiente', // Se añade el estado 'pendiente'\r\n        };\r\n        console.log(\"Enviando al backend:\", reservationData);\r\n        try {\r\n            const response = await fetch('https://three-2cs3.onrender.com/api/reservations', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(reservationData),\r\n            });\r\n            if (response.ok) {\r\n                navigate('/success', { state: { reservation: reservationData } });\r\n            } else {\r\n                const result = await response.json();\r\n                alert(`Error al realizar la reserva: ${result.message}`);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error al conectar con el servidor:', error);\r\n            alert('Hubo un error al conectar con el servidor.');\r\n        }\r\n    };\r\n\r\n    // --- Tu código original (SIN CAMBIOS) ---\r\n    const exchangeRate = 900;\r\n    const calculateNights = () => { if (!selectedDate || !checkOut) return 0; return Math.ceil((checkOut - selectedDate) / (1000 * 60 * 60 * 24)); };\r\n    const convertToUSD = (amountInCLP) => { return (amountInCLP / exchangeRate).toFixed(2); };\r\n    const calculateTotalPrice = () => { const nights = calculateNights(); const pricePerNight = selectedOption === 1 ? room.priceForOne : room.priceForTwo; return nights * pricePerNight; };\r\n    const calculateTotalPriceInUSD = () => { const totalInCLP = calculateTotalPrice(); return convertToUSD(totalInCLP); };\r\n    const roomImages = (room.images && Array.isArray(room.images) && room.images.length > 0) ? room.images : [room.image];\r\n    const lightboxSlides = roomImages.map(imgSrc => ({ src: imgSrc }));\r\n\r\n    if (!room) { return <div>Habitación no encontrada</div> }\r\n\r\n    // --- Tu JSX original (SIN BORRAR NADA) ---\r\n    return (\r\n        <div style={{ padding: '30px', textAlign: 'center', fontSize: '12px', }}>\r\n            <h1 style={{ display: 'inline-block', padding: '10px 20px', fontSize: '15px', fontWeight: 'bold', color: 'white', backgroundColor: '#007bff', border: '2px solidrgb(255, 255, 255)', borderRadius: '20px', textAlign: 'center', cursor: 'default' }}>{room.type}</h1>\r\n            <p><strong>ID:</strong> {room.id}</p>\r\n            <div style={{ marginTop: '10px', fontSize: '15px', }}>\r\n                <h2>Selecciona tus fechas</h2>\r\n                <div style={{ marginBottom: '20px' }}>\r\n                    <div ref={checkInRef} style={{ border: '1px solid #ccc', padding: '10px', borderRadius: '30px', cursor: 'pointer', backgroundColor: '#f9f9f9', position: 'relative' }} onClick={() => setShowCheckInCalendar((prev) => !prev)}>\r\n                        {selectedDate ? selectedDate.toLocaleDateString('es-ES') : 'Selecciona fecha de ingreso'}\r\n                        {showCheckInCalendar && (<div className=\"react-calendar\" style={{ position: 'absolute', zIndex: 10 }} onClick={(e) => e.stopPropagation()}><Calendar onClickDay={(date) => { handleCheckInChange(date); setShowCheckInCalendar(false); }} value={selectedDate} locale=\"es-ES\" minDate={new Date()} /></div>)}\r\n                    </div>\r\n                </div>\r\n                <div style={{ marginBottom: '20px' }}>\r\n                    <div ref={checkOutRef} style={{ border: '1px solid #ccc', padding: '10px', borderRadius: '20px', cursor: 'pointer', backgroundColor: '#f9f9f9', position: 'relative' }} onClick={() => setShowCheckOutCalendar((prev) => !prev)}>\r\n                        {checkOut ? checkOut.toLocaleDateString('es-ES') : 'Selecciona fecha de salida'}\r\n                        {showCheckOutCalendar && (<div className=\"react-calendar\" style={{ position: 'absolute', zIndex: 10 }} onClick={(e) => e.stopPropagation()}><Calendar onClickDay={(date) => { handleCheckOutChange(date); setShowCheckOutCalendar(false); }} value={checkOut} locale=\"es-ES\" minDate={selectedDate ? new Date(selectedDate.getTime() + 24 * 60 * 60 * 1000) : new Date()} /></div>)}\r\n                    </div>\r\n                </div>\r\n                {error && <p style={{ color: 'red', fontWeight: 'bold' }}>{error}</p>}\r\n                {selectedDate && checkOut && !error && (<p style={{ marginTop: '20px', fontSize: '18px', fontWeight: 'bold', color: isAvailable ? '#28a745' : '#dc3545', textAlign: 'center' }}>{isAvailable ? '¡Disponible!' : 'No disponible'}</p>)}\r\n            </div>\r\n            <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', gap: '30px', marginBottom: '20px', textAlign: 'center' }}>\r\n                <div style={{ flex: 1, textAlign: 'center' }}><p style={{ margin: 0, fontSize: '0.8em', fontWeight: 'bold' }}>Precio por Noche</p><p style={{ margin: 0, fontSize: '0.7em' }}>{selectedOption === 1 ? `${room.priceForOne} CLP` : `${room.priceForTwo} CLP`}</p><p style={{ margin: 0, fontSize: '0.7em' }}>($ {selectedOption === 1 ? convertToUSD(room.priceForOne) : convertToUSD(room.priceForTwo)} USD)</p></div>\r\n                <div style={{ flex: 1, maxWidth: '250px', margin: '0 auto' }}><Carousel showThumbs={false} infiniteLoop={true} autoPlay={true} interval={3000} showStatus={false} onClickItem={(index) => { setCurrentImageIndex(index); setLightboxOpen(true); }}>{roomImages.map((imgSrc, index) => (<div key={index} style={{ cursor: 'pointer' }}><img src={imgSrc} alt={`${room.type} - Imagen ${index + 1}`} style={{ borderRadius: '8px' }} /></div>))}</Carousel></div>\r\n                <div style={{ flex: 1, textAlign: 'left', minHeight: '60px' }}>{selectedDate && checkOut && (<div><p style={{ margin: 0, fontWeight: 'bold' }}>Noches: {calculateNights()}</p><p style={{ margin: 0, fontWeight: 'bold' }}>Total: {calculateTotalPrice()} CLP</p><p style={{ margin: 0, fontSize: '0.8em' }}>($ {calculateTotalPriceInUSD()} USD)</p></div>)}</div>\r\n            </div>\r\n            <label>Personas:<select value={selectedOption} onChange={(e) => { setSelectedOption(parseInt(e.target.value)); refreshPaypalButton(); }} style={{ marginLeft: '20px', padding: '7px', fontSize: '12px', borderRadius: '10px', border: '1px solid #ddd' }}><option value={1}>1 Persona</option>{room.priceForTwo && <option value={2}>2 Personas</option>}</select></label>\r\n            <div style={{ marginBottom: '20px' }}><button onClick={() => navigate(-1)} style={{ padding: '10.2px 30px', backgroundColor: '#007bff', color: '#fff', border: 'none', borderRadius: '25px', cursor: 'pointer', fontSize: '18px', marginRight: '20px' }}>Volver</button><button disabled={!selectedDate || !checkOut || !isAvailable} onClick={() => setShowForm(true)} style={{ padding: '11px 20px', backgroundColor: !selectedDate || !checkOut || !isAvailable ? '#ccc' : '#28a745', color: !selectedDate || !checkOut || !isAvailable ? '#666' : '#fff', border: '100px', borderRadius: '50px', cursor: !selectedDate || !checkOut || !isAvailable ? 'not-allowed' : 'pointer', fontSize: '16px' }}>Reservar</button></div>\r\n            \r\n            {showForm && (\r\n                <form\r\n                    onSubmit={(e) => e.preventDefault()}\r\n                    style={{\r\n                        marginTop: '20px',\r\n                        textAlign: 'left',\r\n                        maxWidth: '600px',\r\n                        margin: '20px auto',\r\n                        padding: '20px',\r\n                        backgroundColor: '#f9f9f9',\r\n                        borderRadius: '8px',\r\n                        boxShadow: '0 2px 4px rgba(0, 0, 0, 0.1)',\r\n                    }}\r\n                >\r\n                    <h3>Formulario de Reserva</h3>\r\n                    {/* --- CAMBIO NECESARIO 4: Se actualiza el 'name' y 'value' del input --- */}\r\n                    <label>Nombre completo:</label>\r\n                    <input type=\"text\" name=\"clientName\" value={formData.clientName} onChange={handleInputChange} required style={{ width: '100%', marginBottom: '10px' }} />\r\n\r\n                    {selectedOption === 2 && (\r\n                        <>\r\n                            <label>Nombre completo (Persona 2):</label>\r\n                            <input type=\"text\" name=\"clientName2\" value={formData.clientName2} onChange={handleInputChange} required style={{ width: '100%', marginBottom: '10px' }} />\r\n                        </>\r\n                    )}\r\n                    <label>RUT o número de pasaporte:</label>\r\n                    <input type=\"text\" name=\"rutOrPassport\" value={formData.rutOrPassport} onChange={handleInputChange} required style={{ width: '100%', marginBottom: '10px' }} />\r\n                    <label>Correo electrónico (opcional):</label>\r\n                    <input type=\"email\" name=\"clientEmail\" value={formData.clientEmail} onChange={handleInputChange} style={{ width: '100%', marginBottom: '10px' }} />\r\n                    <label>Teléfono:</label>\r\n                    <input type=\"text\" name=\"phone\" value={formData.phone} onChange={handleInputChange} required style={{ width: '100%', marginBottom: '10px' }} />\r\n                    <label>Nacionalidad:</label>\r\n                    <input type=\"text\" name=\"nationality\" value={formData.nationality} onChange={handleInputChange} required style={{ width: '100%', marginBottom: '10px' }} />\r\n                    <label>Dirección:</label>\r\n                    <input type=\"text\" name=\"address\" value={formData.address} onChange={handleInputChange} required style={{ width: '100%', marginBottom: '10px' }} />\r\n                    <p>Cantidad de noches: <strong>{calculateNights()}</strong></p>\r\n                    <p>Precio total: <strong>{calculateTotalPrice()} CLP</strong></p>\r\n                    <div>\r\n                        <h3>Total a pagar: {calculateTotalPrice()} CLP ($ {calculateTotalPriceInUSD()} USD)</h3>\r\n                        <div className=\"payment-section\">\r\n                            {/* --- CAMBIO NECESARIO 5: Se simplifica la llamada a PaypalButton --- */}\r\n                            <PaypalButton\r\n                                key={paypalKey}\r\n                                amount={calculateTotalPriceInUSD()}\r\n                                onPaymentSuccess={handlePaymentSuccess}\r\n                                onPaymentError={(error) => { alert('Hubo un error al procesar el pago. Por favor, inténtalo nuevamente.'); console.error('Error en el pago:', error); }}\r\n                                onPaymentCancel={() => { alert('El pago fue cancelado por el usuario.'); }}\r\n                            />\r\n                            <p style={{ marginTop: '20px', fontWeight: 'bold' }}>También puedes confirmar tu reserva sin realizar un pago en línea.</p>\r\n                            <button\r\n                                ref={confirmReservationRef}\r\n                                className=\"confirm-reservation-btn\"\r\n                                onClick={handleConfirmReservation}\r\n                                style={{ marginTop: '10px', backgroundColor: '#007BFF', color: '#fff', border: 'none', padding: '10px 20px', borderRadius: '5px', cursor: 'pointer' }}\r\n                            >\r\n                                Confirmar Reserva\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            )}\r\n\r\n            <Lightbox open={isLightboxOpen} close={() => setLightboxOpen(false)} slides={lightboxSlides} index={currentImageIndex} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RoomDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}