{"ast":null,"code":"import _objectSpread from\"C:/Users/Jonathan/Desktop/Proyecto Hostal/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{useParams,useNavigate}from'react-router-dom';import rooms from'../data/rooms';import Calendar from'react-calendar';import PaypalButton from'../PaypalButton';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const RoomDetails=()=>{const[paypalKey,setPaypalKey]=useState(0);const refreshPaypalButton=()=>{setPaypalKey(prevKey=>prevKey+1);};const confirmReservationRef=useRef(null);// Declarar el ref aquí\nconst{id}=useParams();const navigate=useNavigate();const room=rooms.find(room=>room.id===parseInt(id));const[selectedDate,setSelectedDate]=useState(null);// Fecha de ingreso\nconst[checkOut,setCheckOut]=useState(null);// Fecha de salida\nconst[isAvailable,setIsAvailable]=useState(false);// Disponibilidad de la habitación\nconst[selectedOption,setSelectedOption]=useState(1);// Número de personas\nconst[showForm,setShowForm]=useState(false);// Mostrar formulario de reserva\nconst[error,setError]=useState('');// Error si fechas coinciden\nconst[showCheckInCalendar,setShowCheckInCalendar]=useState(false);// Mostrar calendario de ingreso\nconst[showCheckOutCalendar,setShowCheckOutCalendar]=useState(false);// Mostrar calendario de salida\nuseEffect(()=>{if(!isAvailable||!selectedDate||!checkOut){setShowForm(false);}},[isAvailable,selectedDate,checkOut]);const checkInRef=useRef(null);const checkOutRef=useRef(null);const[formData,setFormData]=useState({clientName1:\"\",// Nombre completo de Persona 1\nclientName2:\"\",// Nombre completo de Persona 2 (opcional si hay 2 personas)\nclientEmail:\"\",// Correo electrónico (opcional)\nrutOrPassport:\"\",// RUT o número de pasaporte\nphone:\"\",nationality:\"\",address:\"\"});useEffect(()=>{const handleClickOutside=event=>{// 1. Elementos del calendario que NO deben cerrarlo al interactuar\nconst calendarElements=['.react-calendar',// Contenedor principal\n'.react-calendar__navigation',// Botones de mes/año\n'.react-calendar__navigation__arrow',// Flechas de navegación (< >)\n'.react-calendar__tile',// Días individuales\n'.react-calendar__month-view__days'// Grid de días\n];// 2. Verifica si el clic fue en cualquier elemento del calendario\nconst isClickInsideCalendar=calendarElements.some(selector=>event.target.closest(selector));// 3. Solo cierra si el clic fue FUERA del calendario\nif(!isClickInsideCalendar){setShowCheckInCalendar(false);setShowCheckOutCalendar(false);}};document.addEventListener(\"mousedown\",handleClickOutside);return()=>{document.removeEventListener(\"mousedown\",handleClickOutside);};},[]);// Verificar disponibilidad conectando con el backend\nuseEffect(()=>{const checkAvailability=async()=>{if(selectedDate&&checkOut){if(selectedDate.toISOString().split(\"T\")[0]===checkOut.toISOString().split(\"T\")[0]){setError(\"La fecha de ingreso no puede ser igual a la de salida.\");setIsAvailable(false);return;}try{var _data$unavailableRoom;const response=await fetch(\"https://three-2cs3.onrender.com/api/reservations/check-availability\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({// <-- CORRECCIÓN 1: Formato de fecha arreglado\ncheckIn:selectedDate.toISOString().split(\"T\")[0],checkOut:checkOut.toISOString().split(\"T\")[0],roomId:room.id})});const data=await response.json();setError(\"\");// Limpiar errores si las fechas son válidas\nsetIsAvailable(!((_data$unavailableRoom=data.unavailableRooms)!==null&&_data$unavailableRoom!==void 0&&_data$unavailableRoom.includes(room.id)));}catch(error){console.error(\"Error al verificar disponibilidad:\",error);setIsAvailable(false);}}};checkAvailability();},[selectedDate,checkOut,room.id]);// Manejar cambios en el formulario\nconst handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};// Manejar la selección de fecha de ingreso\nconst handleCheckInChange=date=>{setSelectedDate(date);// Si la fecha de salida es anterior a la nueva fecha de ingreso o no existe\nif(!checkOut||date>=checkOut){const nextDay=new Date(date.getTime()+24*60*60*1000);// Sumar un día\nsetCheckOut(nextDay);// Seleccionar automáticamente la nueva fecha de salida\n}refreshPaypalButton();// Refresca el botón de PayPal\n};// Manejar la selección de fecha de salida\nconst handleCheckOutChange=date=>{setCheckOut(date);refreshPaypalButton();// Refresca el botón de PayPal\n};const exchangeRate=900;// Tasa fija de conversión CLP a USD\n// Calcular cantidad de noches\nconst calculateNights=()=>{if(!selectedDate||!checkOut)return 0;return Math.ceil((checkOut-selectedDate)/(1000*60*60*24));};// Función para convertir CLP a USD\nconst convertToUSD=amountInCLP=>{return(amountInCLP/exchangeRate).toFixed(2);};// Calcular precio total\nconst calculateTotalPrice=()=>{const nights=calculateNights();const pricePerNight=selectedOption===1?room.priceForOne:room.priceForTwo;return nights*pricePerNight;};const calculateTotalPriceInUSD=()=>{const totalInCLP=calculateTotalPrice();return convertToUSD(totalInCLP);};// Enviar la reserva al backend\nconst handleConfirmReservation=async e=>{e.preventDefault();const reservationData={roomId:room.id,clientName:formData.clientName1,// Cambiado de clientName1 a clientName\nclientName2:selectedOption===2?formData.clientName2:undefined,// Solo agregar si selecciona 2 personas\nclientEmail:formData.clientEmail||undefined,// Opcional\nrutOrPassport:formData.rutOrPassport,// Obligatorio\nnumberOfGuests:selectedOption,// <-- CORRECCIÓN 2: Formato de fecha arreglado\ncheckIn:selectedDate===null||selectedDate===void 0?void 0:selectedDate.toISOString().split(\"T\")[0],checkOut:checkOut===null||checkOut===void 0?void 0:checkOut.toISOString().split(\"T\")[0],phone:formData.phone,nationality:formData.nationality,address:formData.address,nights:calculateNights(),// Nuevo campo: cantidad de noches calculadas\ntotalCost:calculateTotalPrice()// Nuevo campo: costo total calculado\n};console.log(\"Datos enviados al backend:\",reservationData);// Depuración\ntry{const response=await fetch(\"https://three-2cs3.onrender.com/api/reservations\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(reservationData)});if(response.ok){// Redirigir a la página de éxito y pasar los datos de la reserva\nnavigate('/success',{state:{reservation:reservationData}});}else{const result=await response.json();alert(\"Error al realizar la reserva: \".concat(result.message));}}catch(error){console.error(\"Error al conectar con el servidor:\",error);alert(\"Hubo un error al conectar con el servidor.\");}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"30px\",textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"h1\",{style:{display:'inline-block',// Se comporta como un botón\npadding:'10px 20px',// Espaciado interno\nfontSize:'16px',// Tamaño del texto\nfontWeight:'bold',// Texto en negrita\ncolor:'white',// Color del texto\nbackgroundColor:'#007bff',// Color de fondo azul\nborder:'2px solidrgb(255, 255, 255)',// Borde más oscuro\nborderRadius:'8px',// Bordes redondeados\ntextAlign:'center',// Centra el texto\ncursor:'default'// No muestra la mano como enlace\n},children:room.type}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID:\"}),\" \",room.id]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"20px\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Selecciona tus fechas\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:\"20px\"},children:/*#__PURE__*/_jsxs(\"div\",{ref:checkInRef,style:{border:\"1px solid #ccc\",padding:\"10px\",borderRadius:\"20px\",cursor:\"pointer\",backgroundColor:\"#f9f9f9\",position:\"relative\"},onClick:()=>setShowCheckInCalendar(prev=>!prev),children:[selectedDate?selectedDate.toLocaleDateString(\"es-ES\"):\"Selecciona fecha de ingreso\",showCheckInCalendar&&/*#__PURE__*/_jsx(\"div\",{className:\"react-calendar\",style:{position:\"absolute\",zIndex:10},onClick:e=>e.stopPropagation()// <-- CORRECCIÓN 3: Evita que el calendario se cierre\n,children:/*#__PURE__*/_jsx(Calendar,{onClickDay:date=>{handleCheckInChange(date);setShowCheckInCalendar(false);},value:selectedDate,locale:\"es-ES\",minDate:new Date()})})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:\"20px\"},children:/*#__PURE__*/_jsxs(\"div\",{ref:checkOutRef,style:{border:\"1px solid #ccc\",padding:\"10px\",borderRadius:\"20px\",cursor:\"pointer\",backgroundColor:\"#f9f9f9\",position:\"relative\"},onClick:()=>setShowCheckOutCalendar(prev=>!prev),children:[checkOut?checkOut.toLocaleDateString(\"es-ES\"):\"Selecciona fecha de salida\",showCheckOutCalendar&&/*#__PURE__*/_jsx(\"div\",{className:\"react-calendar\",style:{position:\"absolute\",zIndex:10},onClick:e=>e.stopPropagation()// <-- CORRECCIÓN 4: Evita que el calendario se cierre\n,children:/*#__PURE__*/_jsx(Calendar,{onClickDay:date=>{handleCheckOutChange(date);setShowCheckOutCalendar(false);},value:checkOut,locale:\"es-ES\",minDate:selectedDate?new Date(selectedDate.getTime()+24*60*60*1000):new Date()})})]})}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",fontWeight:\"bold\"},children:error}),selectedDate&&checkOut&&!error&&/*#__PURE__*/_jsx(\"p\",{style:{marginTop:\"20px\",// Ajustado para la sección correcta\nfontSize:\"18px\",fontWeight:\"bold\",color:isAvailable?\"#28a745\":\"#dc3545\",// Verde o rojo según estado\ntextAlign:\"center\"},children:isAvailable?\"¡Disponible!\":\"No disponible\"})]}),/*#__PURE__*/_jsx(\"img\",{src:room.image,alt:room.type,style:{width:\"80%\",maxWidth:\"220px\",borderRadius:\"8px\",marginBottom:\"20px\"}}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Precio por noche: \",/*#__PURE__*/_jsx(\"strong\",{children:selectedOption===1?\"\".concat(room.priceForOne,\" CLP ($\").concat(convertToUSD(room.priceForOne),\" USD)\"):\"\".concat(room.priceForTwo,\" CLP ($\").concat(convertToUSD(room.priceForTwo),\" USD)\")})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Personas: \",\" \",/*#__PURE__*/_jsxs(\"select\",{value:selectedOption,onChange:e=>{setSelectedOption(parseInt(e.target.value));refreshPaypalButton();// Refresca el botón de PayPal cuando se cambia el número de personas\n},style:{marginLeft:\"10px\",padding:\"5px\",fontSize:\"14px\",borderRadius:\"4px\",border:\"1px solid #ddd\"},children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"1 Persona\"}),room.priceForTwo&&/*#__PURE__*/_jsx(\"option\",{value:2,children:\"2 Personas\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"20px\"},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),style:{padding:\"10px 20px\",backgroundColor:\"#007bff\",color:\"#fff\",border:\"none\",borderRadius:\"2px\",cursor:\"pointer\",fontSize:\"16px\",marginRight:\"10px\"},children:\"Volver\"}),/*#__PURE__*/_jsx(\"button\",{disabled:!selectedDate||!checkOut||!isAvailable,onClick:()=>setShowForm(true),style:{padding:\"12px 20px\",backgroundColor:!selectedDate||!checkOut||!isAvailable?\"#ccc\":\"#28a745\",color:!selectedDate||!checkOut||!isAvailable?\"#666\":\"#fff\",border:\"none\",borderRadius:\"20px\",cursor:!selectedDate||!checkOut||!isAvailable?\"not-allowed\":\"pointer\",fontSize:\"16px\"},children:\"Reservar\"})]}),showForm&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleConfirmReservation,style:{marginTop:\"20px\",// Ajustado\ntextAlign:\"left\",maxWidth:\"600px\",margin:\"20px auto\",// Centra el formulario horizontalmente\npadding:\"20px\",// Espaciado interno opcional\nbackgroundColor:\"#f9f9f9\",// Opcional: color de fondo para destacar el formulario\nborderRadius:\"8px\",// Bordes redondeados\nboxShadow:\"0 2px 4px rgba(0, 0, 0, 0.1)\"// Sombra ligera opcional\n},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Formulario de Reserva\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Nombre completo:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"clientName1\",value:formData.clientName1,onChange:handleInputChange,required:true,style:{width:\"100%\",marginBottom:\"10px\"}}),selectedOption===2&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nombre completo (Persona 2):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"clientName2\",value:formData.clientName2,onChange:handleInputChange,required:true,style:{width:\"100%\",marginBottom:\"10px\"}})]}),/*#__PURE__*/_jsx(\"label\",{children:\"RUT o n\\xFAmero de pasaporte:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"rutOrPassport\",value:formData.rutOrPassport,onChange:handleInputChange,required:true,style:{width:\"100%\",marginBottom:\"10px\"}}),/*#__PURE__*/_jsx(\"label\",{children:\"Correo electr\\xF3nico (opcional):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"clientEmail\",value:formData.clientEmail,onChange:handleInputChange,style:{width:\"100%\",marginBottom:\"10px\"}}),/*#__PURE__*/_jsx(\"label\",{children:\"Tel\\xE9fono:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",value:formData.phone,onChange:handleInputChange,required:true,style:{width:\"100%\",marginBottom:\"10px\"}}),/*#__PURE__*/_jsx(\"label\",{children:\"Nacionalidad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nationality\",value:formData.nationality,onChange:handleInputChange,required:true,style:{width:\"100%\",marginBottom:\"10px\"}}),/*#__PURE__*/_jsx(\"label\",{children:\"Direcci\\xF3n:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",value:formData.address,onChange:handleInputChange,required:true,style:{width:\"100%\",marginBottom:\"10px\"}}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Cantidad de noches: \",/*#__PURE__*/_jsx(\"strong\",{children:calculateNights()})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Precio total: \",/*#__PURE__*/_jsxs(\"strong\",{children:[calculateTotalPrice(),\" CLP\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Total a pagar: \",calculateTotalPrice(),\" CLP ($ \",calculateTotalPriceInUSD(),\" USD)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"payment-section\",children:[/*#__PURE__*/_jsx(PaypalButton,{amount:calculateTotalPriceInUSD()// Total a pagar\n,// Reinicia el botón al cambiar paypalKey\nonPaymentSuccess:()=>{// Simular clic en el botón de Confirmar Reserva\nif(confirmReservationRef.current){confirmReservationRef.current.click();}},onPaymentError:error=>{alert(\"Hubo un error al procesar el pago. Por favor, inténtalo nuevamente.\");console.error(\"Error en el pago:\",error);},onPaymentCancel:()=>{alert(\"El pago fue cancelado por el usuario.\");}},paypalKey),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:'20px',fontWeight:'bold'},children:\"Tambi\\xE9n puedes confirmar tu reserva sin realizar un pago en l\\xEDnea.\"}),/*#__PURE__*/_jsx(\"button\",{ref:confirmReservationRef// Vincula el botón al ref\n,className:\"confirm-reservation-btn\",onClick:handleConfirmReservation,style:{marginTop:'10px',backgroundColor:'#007BFF',color:'#fff',border:'none',padding:'10px 20px',borderRadius:'5px',cursor:'pointer'},children:\"Confirmar Reserva\"})]})]})]})]});};export default RoomDetails;","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","rooms","Calendar","PaypalButton","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RoomDetails","paypalKey","setPaypalKey","refreshPaypalButton","prevKey","confirmReservationRef","id","navigate","room","find","parseInt","selectedDate","setSelectedDate","checkOut","setCheckOut","isAvailable","setIsAvailable","selectedOption","setSelectedOption","showForm","setShowForm","error","setError","showCheckInCalendar","setShowCheckInCalendar","showCheckOutCalendar","setShowCheckOutCalendar","checkInRef","checkOutRef","formData","setFormData","clientName1","clientName2","clientEmail","rutOrPassport","phone","nationality","address","handleClickOutside","event","calendarElements","isClickInsideCalendar","some","selector","target","closest","document","addEventListener","removeEventListener","checkAvailability","toISOString","split","_data$unavailableRoom","response","fetch","method","headers","body","JSON","stringify","checkIn","roomId","data","json","unavailableRooms","includes","console","handleInputChange","e","name","value","prev","_objectSpread","handleCheckInChange","date","nextDay","Date","getTime","handleCheckOutChange","exchangeRate","calculateNights","Math","ceil","convertToUSD","amountInCLP","toFixed","calculateTotalPrice","nights","pricePerNight","priceForOne","priceForTwo","calculateTotalPriceInUSD","totalInCLP","handleConfirmReservation","preventDefault","reservationData","clientName","undefined","numberOfGuests","totalCost","log","ok","state","reservation","result","alert","concat","message","style","padding","textAlign","children","display","fontSize","fontWeight","color","backgroundColor","border","borderRadius","cursor","type","marginTop","marginBottom","ref","position","onClick","toLocaleDateString","className","zIndex","stopPropagation","onClickDay","locale","minDate","src","image","alt","width","maxWidth","onChange","marginLeft","marginRight","disabled","onSubmit","margin","boxShadow","required","amount","onPaymentSuccess","current","click","onPaymentError","onPaymentCancel"],"sources":["C:/Users/Jonathan/Desktop/Proyecto Hostal/frontend/src/pages/RoomDetails.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport rooms from '../data/rooms';\r\nimport Calendar from 'react-calendar';\r\nimport PaypalButton from '../PaypalButton';\r\n\r\n\r\nconst RoomDetails = () => {\r\n\r\n\r\n\r\nconst [paypalKey, setPaypalKey] = useState(0);\r\n\r\nconst refreshPaypalButton = () => {\r\n setPaypalKey((prevKey) => prevKey + 1);\r\n};\r\n\r\n\r\n const confirmReservationRef = useRef(null); // Declarar el ref aquí\r\n const { id } = useParams();\r\n const navigate = useNavigate();\r\n const room = rooms.find((room) => room.id === parseInt(id));\r\n\r\n const [selectedDate, setSelectedDate] = useState(null); // Fecha de ingreso\r\n const [checkOut, setCheckOut] = useState(null);\r\n// Fecha de salida\r\n const [isAvailable, setIsAvailable] = useState(false); // Disponibilidad de la habitación\r\n const [selectedOption, setSelectedOption] = useState(1); // Número de personas\r\n const [showForm, setShowForm] = useState(false);\r\n// Mostrar formulario de reserva\r\n const [error, setError] = useState(''); // Error si fechas coinciden\r\n\r\n const [showCheckInCalendar, setShowCheckInCalendar] = useState(false); // Mostrar calendario de ingreso\r\n const [showCheckOutCalendar, setShowCheckOutCalendar] = useState(false); // Mostrar calendario de salida\r\n\r\n\r\n useEffect(() => {\r\n if (!isAvailable || !selectedDate || !checkOut) {\r\n setShowForm(false);\r\n }\r\n }, [isAvailable, selectedDate, checkOut]);\r\n\r\n\r\n const checkInRef = useRef(null);\r\n const checkOutRef = useRef(null);\r\n\r\n const [formData, setFormData] = useState({\r\n clientName1: \"\", // Nombre completo de Persona 1\r\n clientName2: \"\", // Nombre completo de Persona 2 (opcional si hay 2 personas)\r\n clientEmail: \"\", // Correo electrónico (opcional)\r\n rutOrPassport: \"\", // RUT o número de pasaporte\r\n phone: \"\",\r\n nationality: \"\",\r\n address: \"\",\r\n });\r\n\r\n useEffect(() => {\r\n const handleClickOutside = (event) => {\r\n // 1. Elementos del calendario que NO deben cerrarlo al interactuar\r\n const calendarElements = [\r\n '.react-calendar', // Contenedor principal\r\n '.react-calendar__navigation', // Botones de mes/año\r\n '.react-calendar__navigation__arrow', // Flechas de navegación (< >)\r\n '.react-calendar__tile', // Días individuales\r\n '.react-calendar__month-view__days' // Grid de días\r\n ];\r\n\r\n // 2. Verifica si el clic fue en cualquier elemento del calendario\r\n const isClickInsideCalendar = calendarElements.some(selector =>\r\n event.target.closest(selector)\r\n );\r\n\r\n // 3. Solo cierra si el clic fue FUERA del calendario\r\n if (!isClickInsideCalendar) {\r\n setShowCheckInCalendar(false);\r\n setShowCheckOutCalendar(false);\r\n }\r\n };\r\n\r\n document.addEventListener(\"mousedown\", handleClickOutside);\r\n return () => {\r\n document.removeEventListener(\"mousedown\", handleClickOutside);\r\n };\r\n }, []);\r\n\r\n // Verificar disponibilidad conectando con el backend\r\n useEffect(() => {\r\n const checkAvailability = async () => {\r\n if (selectedDate && checkOut) {\r\n if (selectedDate.toISOString().split(\"T\")[0] === checkOut.toISOString().split(\"T\")[0]) {\r\n setError(\"La fecha de ingreso no puede ser igual a la de salida.\");\r\n setIsAvailable(false);\r\n return;\r\n }\r\n\r\n try {\r\n const response = await fetch(\"https://three-2cs3.onrender.com/api/reservations/check-availability\", {\r\n method: \"POST\",\r\n headers: { \"Content-Type\": \"application/json\" },\r\n body: JSON.stringify({\r\n // <-- CORRECCIÓN 1: Formato de fecha arreglado\r\n checkIn: selectedDate.toISOString().split(\"T\")[0],\r\n checkOut: checkOut.toISOString().split(\"T\")[0],\r\n roomId: room.id,\r\n }),\r\n });\r\n\r\n const data = await response.json();\r\n setError(\"\"); // Limpiar errores si las fechas son válidas\r\n setIsAvailable(!data.unavailableRooms?.includes(room.id));\r\n } catch (error) {\r\n console.error(\"Error al verificar disponibilidad:\", error);\r\n setIsAvailable(false);\r\n }\r\n }\r\n };\r\n\r\n checkAvailability();\r\n }, [selectedDate, checkOut, room.id]);\r\n\r\n // Manejar cambios en el formulario\r\n const handleInputChange = (e) => {\r\n const { name, value } = e.target;\r\n setFormData((prev) => ({ ...prev, [name]: value }));\r\n };\r\n\r\n // Manejar la selección de fecha de ingreso\r\n const handleCheckInChange = (date) => {\r\n setSelectedDate(date);\r\n\r\n // Si la fecha de salida es anterior a la nueva fecha de ingreso o no existe\r\n if (!checkOut || date >= checkOut) {\r\n const nextDay = new Date(date.getTime() + 24 * 60 * 60 * 1000); // Sumar un día\r\n setCheckOut(nextDay); // Seleccionar automáticamente la nueva fecha de salida\r\n }\r\n refreshPaypalButton(); // Refresca el botón de PayPal\r\n };\r\n\r\n // Manejar la selección de fecha de salida\r\n const handleCheckOutChange = (date) => {\r\n setCheckOut(date);\r\n refreshPaypalButton(); // Refresca el botón de PayPal\r\n };\r\n\r\n\r\n const exchangeRate = 900; // Tasa fija de conversión CLP a USD\r\n\r\n\r\n // Calcular cantidad de noches\r\n const calculateNights = () => {\r\n if (!selectedDate || !checkOut) return 0;\r\n return Math.ceil((checkOut - selectedDate) / (1000 * 60 * 60 * 24));\r\n };\r\n\r\n// Función para convertir CLP a USD\r\nconst convertToUSD = (amountInCLP) => {\r\n return (amountInCLP / exchangeRate).toFixed(2);\r\n};\r\n\r\n\r\n // Calcular precio total\r\n const calculateTotalPrice = () => {\r\n const nights = calculateNights();\r\n const pricePerNight = selectedOption === 1 ? room.priceForOne : room.priceForTwo;\r\n return nights * pricePerNight;\r\n };\r\n\r\n const calculateTotalPriceInUSD = () => {\r\n const totalInCLP = calculateTotalPrice();\r\n return convertToUSD(totalInCLP);\r\n };\r\n\r\n\r\n // Enviar la reserva al backend\r\n\r\n\r\n const handleConfirmReservation = async (e) => {\r\n e.preventDefault();\r\n\r\n const reservationData = {\r\n roomId: room.id,\r\n clientName: formData.clientName1, // Cambiado de clientName1 a clientName\r\n clientName2: selectedOption === 2 ? formData.clientName2 : undefined, // Solo agregar si selecciona 2 personas\r\n clientEmail: formData.clientEmail || undefined, // Opcional\r\n rutOrPassport: formData.rutOrPassport, // Obligatorio\r\n numberOfGuests: selectedOption,\r\n // <-- CORRECCIÓN 2: Formato de fecha arreglado\r\n checkIn: selectedDate?.toISOString().split(\"T\")[0],\r\n checkOut: checkOut?.toISOString().split(\"T\")[0],\r\n phone: formData.phone,\r\n nationality: formData.nationality,\r\n address: formData.address,\r\n nights: calculateNights(), // Nuevo campo: cantidad de noches calculadas\r\n totalCost: calculateTotalPrice(), // Nuevo campo: costo total calculado\r\n };\r\n\r\n console.log(\"Datos enviados al backend:\", reservationData); // Depuración\r\n\r\n try {\r\n const response = await fetch(\"https://three-2cs3.onrender.com/api/reservations\", {\r\n method: \"POST\",\r\n headers: { \"Content-Type\": \"application/json\" },\r\n body: JSON.stringify(reservationData),\r\n });\r\n\r\n if (response.ok) {\r\n // Redirigir a la página de éxito y pasar los datos de la reserva\r\n navigate('/success', { state: { reservation: reservationData } });\r\n } else {\r\n const result = await response.json();\r\n alert(`Error al realizar la reserva: ${result.message}`);\r\n }\r\n } catch (error) {\r\n console.error(\"Error al conectar con el servidor:\", error);\r\n alert(\"Hubo un error al conectar con el servidor.\");\r\n }\r\n };\r\n\r\n return (\r\n <div style={{ padding: \"30px\", textAlign: \"center\" }}>\r\n <h1\r\n style={{\r\n display: 'inline-block', // Se comporta como un botón\r\n padding: '10px 20px', // Espaciado interno\r\n fontSize: '16px', // Tamaño del texto\r\n fontWeight: 'bold', // Texto en negrita\r\n color: 'white', // Color del texto\r\n backgroundColor: '#007bff', // Color de fondo azul\r\n border: '2px solidrgb(255, 255, 255)', // Borde más oscuro\r\n borderRadius: '8px', // Bordes redondeados\r\n textAlign: 'center', // Centra el texto\r\n cursor: 'default', // No muestra la mano como enlace\r\n }}\r\n >\r\n {room.type}\r\n </h1>\r\n <p><strong>ID:</strong> {room.id}</p>\r\n <div style={{ marginTop: \"20px\" }}>\r\n <h2>Selecciona tus fechas</h2>\r\n\r\n {/* Fecha de ingreso */}\r\n <div style={{ marginBottom: \"20px\" }}>\r\n\r\n <div\r\n ref={checkInRef}\r\n style={{\r\n border: \"1px solid #ccc\",\r\n padding: \"10px\",\r\n borderRadius: \"20px\",\r\n cursor: \"pointer\",\r\n backgroundColor: \"#f9f9f9\",\r\n position: \"relative\",\r\n }}\r\n onClick={() => setShowCheckInCalendar((prev) => !prev)}\r\n >\r\n {selectedDate ? selectedDate.toLocaleDateString(\"es-ES\") : \"Selecciona fecha de ingreso\"}\r\n\r\n {showCheckInCalendar && (\r\n <div \r\n  className=\"react-calendar\" \r\n  style={{ position: \"absolute\", zIndex: 10 }}\r\n  onClick={(e) => e.stopPropagation()} // <-- CORRECCIÓN 3: Evita que el calendario se cierre\r\n >\r\n <Calendar\r\n onClickDay={(date) => {\r\n handleCheckInChange(date);\r\n setShowCheckInCalendar(false);\r\n }}\r\n value={selectedDate}\r\n locale=\"es-ES\"\r\n minDate={new Date()}\r\n />\r\n </div>\r\n)}\r\n\r\n </div>\r\n </div>\r\n\r\n {/* Fecha de salida */}\r\n <div style={{ marginBottom: \"20px\" }}>\r\n\r\n <div\r\n ref={checkOutRef}\r\n style={{\r\n border: \"1px solid #ccc\",\r\n padding: \"10px\",\r\n borderRadius: \"20px\",\r\n cursor: \"pointer\",\r\n backgroundColor: \"#f9f9f9\",\r\n position: \"relative\",\r\n }}\r\n onClick={() => setShowCheckOutCalendar((prev) => !prev)}\r\n >\r\n {checkOut ? checkOut.toLocaleDateString(\"es-ES\") : \"Selecciona fecha de salida\"}\r\n\r\n {showCheckOutCalendar && (\r\n <div \r\n  className=\"react-calendar\" \r\n  style={{ position: \"absolute\", zIndex: 10 }}\r\n  onClick={(e) => e.stopPropagation()} // <-- CORRECCIÓN 4: Evita que el calendario se cierre\r\n >\r\n <Calendar\r\n onClickDay={(date) => {\r\n handleCheckOutChange(date);\r\n setShowCheckOutCalendar(false);\r\n }}\r\n value={checkOut}\r\n locale=\"es-ES\"\r\n minDate={\r\n selectedDate\r\n ?\r\nnew Date(selectedDate.getTime() + 24 * 60 * 60 * 1000)\r\n : new Date()\r\n }\r\n />\r\n </div>\r\n)}\r\n\r\n </div>\r\n </div>\r\n\r\n {error && <p style={{ color: \"red\", fontWeight: \"bold\" }}>{error}</p>}\r\n\r\n {selectedDate && checkOut && !error && (\r\n <p\r\n style={{\r\n marginTop: \"20px\", // Ajustado para la sección correcta\r\n fontSize: \"18px\",\r\n fontWeight: \"bold\",\r\n color: isAvailable ? \"#28a745\" : \"#dc3545\", // Verde o rojo según estado\r\n textAlign: \"center\",\r\n }}\r\n >\r\n {isAvailable ?\r\n\"¡Disponible!\" : \"No disponible\"}\r\n </p>\r\n )}\r\n </div>\r\n\r\n\r\n\r\n <img\r\n src={room.image}\r\n alt={room.type}\r\n style={{\r\n width: \"80%\",\r\n maxWidth: \"220px\",\r\n borderRadius: \"8px\",\r\n marginBottom: \"20px\",\r\n }}\r\n />\r\n\r\n <p>\r\n Precio por noche: <strong>\r\n {selectedOption === 1\r\n ? `${room.priceForOne} CLP ($${convertToUSD(room.priceForOne)} USD)`\r\n : `${room.priceForTwo} CLP ($${convertToUSD(room.priceForTwo)} USD)`}\r\n </strong>\r\n </p>\r\n <label>\r\n Personas: {\" \"}\r\n <select\r\n value={selectedOption}\r\n onChange={(e) => {\r\n setSelectedOption(parseInt(e.target.value));\r\n refreshPaypalButton(); // Refresca el botón de PayPal cuando se cambia el número de personas\r\n }}\r\n style={{\r\n marginLeft: \"10px\",\r\n padding: \"5px\",\r\n fontSize: \"14px\",\r\n borderRadius: \"4px\",\r\n border: \"1px solid #ddd\",\r\n }}\r\n>\r\n <option value={1}>1 Persona</option>\r\n {room.priceForTwo && <option value={2}>2 Personas</option>}\r\n</select>\r\n\r\n </label>\r\n <div style={{ marginBottom: \"20px\" }}>\r\n <button\r\n onClick={() => navigate(-1)}\r\n style={{\r\n padding: \"10px 20px\",\r\n backgroundColor: \"#007bff\",\r\n color: \"#fff\",\r\n border: \"none\",\r\n borderRadius: \"2px\",\r\n cursor: \"pointer\",\r\n fontSize: \"16px\",\r\n marginRight: \"10px\",\r\n }}\r\n >\r\n Volver\r\n </button>\r\n <button\r\n disabled={!selectedDate || !checkOut || !isAvailable}\r\n onClick={() => setShowForm(true)}\r\n style={{\r\n padding: \"12px 20px\",\r\n backgroundColor: !selectedDate || !checkOut || !isAvailable ?\r\n\"#ccc\" : \"#28a745\",\r\n color: !selectedDate || !checkOut ||\r\n!isAvailable ? \"#666\" : \"#fff\",\r\n border: \"none\",\r\n borderRadius: \"20px\",\r\n cursor: !selectedDate || !checkOut ||\r\n!isAvailable ? \"not-allowed\" : \"pointer\",\r\n fontSize: \"16px\",\r\n }}\r\n >\r\n Reservar\r\n </button>\r\n </div>\r\n\r\n\r\n {showForm && (\r\n <form\r\n onSubmit={handleConfirmReservation}\r\n style={{\r\n marginTop: \"20px\", // Ajustado\r\n textAlign: \"left\",\r\n maxWidth: \"600px\",\r\n margin: \"20px auto\", // Centra el formulario horizontalmente\r\n padding: \"20px\", // Espaciado interno opcional\r\n backgroundColor: \"#f9f9f9\", // Opcional: color de fondo para destacar el formulario\r\n borderRadius: \"8px\", // Bordes redondeados\r\n boxShadow: \"0 2px 4px rgba(0, 0, 0, 0.1)\", // Sombra ligera opcional\r\n }}\r\n >\r\n <h3>Formulario de Reserva</h3>\r\n <label>Nombre completo:</label>\r\n <input\r\n type=\"text\"\r\n name=\"clientName1\"\r\n value={formData.clientName1}\r\n onChange={handleInputChange}\r\n required\r\n style={{ width: \"100%\", marginBottom: \"10px\" }}\r\n />\r\n\r\n {selectedOption === 2 && (\r\n <>\r\n <label>Nombre completo (Persona 2):</label>\r\n <input\r\n type=\"text\"\r\n name=\"clientName2\"\r\n value={formData.clientName2}\r\n onChange={handleInputChange}\r\n required\r\n style={{ width: \"100%\", marginBottom: \"10px\" }}\r\n />\r\n </>\r\n )}\r\n\r\n <label>RUT o número de pasaporte:</label>\r\n <input\r\n type=\"text\"\r\n name=\"rutOrPassport\"\r\n value={formData.rutOrPassport}\r\n onChange={handleInputChange}\r\n required\r\n style={{ width: \"100%\", marginBottom: \"10px\" }}\r\n />\r\n\r\n <label>Correo electrónico (opcional):</label>\r\n <input\r\n type=\"email\"\r\n name=\"clientEmail\"\r\n value={formData.clientEmail}\r\n onChange={handleInputChange}\r\n style={{ width: \"100%\", marginBottom: \"10px\" }}\r\n />\r\n\r\n <label>Teléfono:</label>\r\n <input\r\n type=\"text\"\r\n name=\"phone\"\r\n value={formData.phone}\r\n onChange={handleInputChange}\r\n required\r\n style={{ width: \"100%\", marginBottom: \"10px\" }}\r\n />\r\n\r\n <label>Nacionalidad:</label>\r\n <input\r\n type=\"text\"\r\n name=\"nationality\"\r\n value={formData.nationality}\r\n onChange={handleInputChange}\r\n required\r\n style={{ width: \"100%\", marginBottom: \"10px\" }}\r\n />\r\n\r\n <label>Dirección:</label>\r\n <input\r\n type=\"text\"\r\n name=\"address\"\r\n value={formData.address}\r\n onChange={handleInputChange}\r\n required\r\n style={{ width: \"100%\", marginBottom: \"10px\" }}\r\n />\r\n\r\n <p>\r\n Cantidad de noches: <strong>{calculateNights()}</strong>\r\n </p>\r\n <p>\r\n Precio total: <strong>{calculateTotalPrice()} CLP</strong>\r\n </p>\r\n <div>\r\n <h3>Total a pagar: {calculateTotalPrice()} CLP ($ {calculateTotalPriceInUSD()} USD)</h3>\r\n\r\n\r\n <div className=\"payment-section\">\r\n {/* Botón de PayPal */}\r\n <PaypalButton\r\n amount={calculateTotalPriceInUSD()} // Total a pagar\r\n key={paypalKey} // Reinicia el botón al cambiar paypalKey\r\n onPaymentSuccess={() => {\r\n // Simular clic en el botón de Confirmar Reserva\r\n if (confirmReservationRef.current) {\r\n confirmReservationRef.current.click();\r\n }\r\n }}\r\n onPaymentError={(error) => {\r\n alert(\"Hubo un error al procesar el pago. Por favor, inténtalo nuevamente.\");\r\n console.error(\"Error en el pago:\", error);\r\n }}\r\n onPaymentCancel={() => {\r\n alert(\"El pago fue cancelado por el usuario.\");\r\n }}\r\n />\r\n\r\n {/* Texto personalizado antes del botón de confirmar reserva */}\r\n <p style={{ marginTop: '20px', fontWeight: 'bold' }}>\r\n {/** Reemplaza este texto con el que desees **/}\r\n También puedes confirmar tu reserva sin realizar un pago en línea.\r\n </p>\r\n\r\n {/* Botón de confirmar reserva */}\r\n <button\r\n ref={confirmReservationRef} // Vincula el botón al ref\r\n className=\"confirm-reservation-btn\"\r\n onClick={handleConfirmReservation}\r\n style={{\r\n marginTop: '10px',\r\n backgroundColor: '#007BFF',\r\n color: '#fff',\r\n border: 'none',\r\n padding: '10px 20px',\r\n borderRadius: '5px',\r\n cursor: 'pointer',\r\n }}\r\n>\r\n Confirmar Reserva\r\n</button>\r\n</div>\r\n\r\n</div>\r\n\r\n </form>\r\n )}\r\n </div>\r\n );\r\n};\r\n\r\nexport default RoomDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}